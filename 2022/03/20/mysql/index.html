<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>mysql | Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="MySQL   MySQL三层结构 数据库位置  表的位置  数据库-表的本质仍然是文件   java操作MySQL 数据库创建数据库 123456789101112131415#演示数据库的操作#使用指令创建数据库create database hsp_db01;#使用指令删除数据库drop database hsp_db01#创建一个使用utf8字符集的hsp_db02数据库create d">
<meta property="og:type" content="article">
<meta property="og:title" content="mysql">
<meta property="og:url" content="http://example.com/2022/03/20/mysql/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="MySQL   MySQL三层结构 数据库位置  表的位置  数据库-表的本质仍然是文件   java操作MySQL 数据库创建数据库 123456789101112131415#演示数据库的操作#使用指令创建数据库create database hsp_db01;#使用指令删除数据库drop database hsp_db01#创建一个使用utf8字符集的hsp_db02数据库create d">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220310172438438.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220311091244801.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220311091319882.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220311162825747.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220311162949438.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220311163048080.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220311163210376.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220311163317272.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220311164236687.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220311164838315.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220311172254528.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220311174209886.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220311190521656.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220311191917892.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220311201010506.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220311201323736.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220311201555909.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220311203419517.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220311203827793.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220311204936911.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220311211651161.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220311211750134.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220312142127299.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220312143318467.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220312143451262.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220312144242391.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220312150015225.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220312150054377.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220312152449712.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220312152528410.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220312154909723.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220312155129220.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220312155917800.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220312160932012.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220312163305915.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220312163412561.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220312164221361.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220312164801803.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220312165743311.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220312191827694.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220312193931442.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220312194613994.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220312194647825.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220312200203194.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220312201234303.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220312203514902.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220312211945542.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220312212508532.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220312212714286.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220313222554445.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220313230238844.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220313233907088.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220313234323095.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220314221225433.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220314221427615.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220314222102780.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220314225357502.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220314230916352.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220314233840498.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220314233825299.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220315160707553.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220315160734828.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220315164002376.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220315163948712.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220315173911684.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220315175120685.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220316074936980.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220316080737357.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220316081903214.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220316081851391.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220316083125231.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220316084145844.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220316085033174.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220316085133265.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220316100418129.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220316100703641.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220316223814534.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220316225605544.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220316230055004.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220316232946529.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220317141052172.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220317144801725.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220317150154539.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220317151902395.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220317151921854.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220317161545599.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220317161741555.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220317163238433.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220317163304180.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220317181339323.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220317182917624.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220317190504408.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220317194025131.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220318155209545.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220318163736702.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220318163820254.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220319114728455.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220319115403395.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220319142515991.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220319143752969.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220319143949491.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220319144352135.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220319144512921.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220319201909329.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220319201947705.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220319203457829.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220319203935833.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220319205145119.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220319205605702.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220319211038829.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220319211214222.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220319213535076.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220319213923117.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220319214109664.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220319214209626.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220319222831819.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220320105326520.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220320105347752.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220320105740170.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220320105953844.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220320110751393.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220320111304006.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220320112736068.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220320113236425.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220320113142184.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220320113522461.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220320114601154.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220320115203045.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220320115338364.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220320120637960.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220320121947546.png">
<meta property="og:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220320122352213.png">
<meta property="article:published_time" content="2022-03-20T07:57:51.000Z">
<meta property="article:modified_time" content="2022-03-20T08:01:28.541Z">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="c:/Users/Nico/AppData/Roaming/Typora/typora-user-images/image-20220310172438438.png">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 5.4.1"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-mysql" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2022/03/20/mysql/" class="article-date">
  <time datetime="2022-03-20T07:57:51.000Z" itemprop="datePublished">2022-03-20</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      mysql
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <hr>
<h1 id="MySQL"><a href="#MySQL" class="headerlink" title="MySQL"></a>MySQL</h1><p><img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220310172438438.png" alt="image-20220310172438438"></p>
<p><img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220311091244801.png" alt="image-20220311091244801"></p>
<p><img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220311091319882.png" alt="image-20220311091319882"></p>
<h2 id="MySQL三层结构"><a href="#MySQL三层结构" class="headerlink" title="MySQL三层结构"></a>MySQL三层结构</h2><p><img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220311162825747.png" alt="image-20220311162825747"></p>
<p>数据库位置</p>
<p><img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220311162949438.png" alt="image-20220311162949438"></p>
<p>表的位置</p>
<p><img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220311163048080.png" alt="image-20220311163048080"></p>
<p><strong>数据库-表的本质仍然是文件</strong></p>
<p><img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220311163210376.png" alt="image-20220311163210376"></p>
<p><img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220311163317272.png" alt="image-20220311163317272"></p>
<h2 id="java操作MySQL"><a href="#java操作MySQL" class="headerlink" title="java操作MySQL"></a>java操作MySQL</h2><p><img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220311164236687.png" alt="image-20220311164236687"></p>
<h2 id="数据库"><a href="#数据库" class="headerlink" title="数据库"></a>数据库</h2><h3 id="创建数据库"><a href="#创建数据库" class="headerlink" title="创建数据库"></a>创建数据库</h3><p><img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220311164838315.png" alt="image-20220311164838315"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">#演示数据库的操作</span><br><span class="line">#使用指令创建数据库</span><br><span class="line"><span class="keyword">create</span> database hsp_db01;</span><br><span class="line">#使用指令删除数据库</span><br><span class="line"><span class="keyword">drop</span> database hsp_db01</span><br><span class="line"></span><br><span class="line">#创建一个使用utf8字符集的hsp_db02数据库</span><br><span class="line"><span class="keyword">create</span> database hsp_db02 <span class="type">character</span> <span class="keyword">set</span> utf8</span><br><span class="line">#创建一个使用utf8字符集,并带校对规则的hsp_db03数据库</span><br><span class="line"><span class="keyword">CREATE</span> DATABASE hsp_db03 <span class="type">CHARACTER</span> <span class="keyword">SET</span> utf8 <span class="keyword">collate</span> utf8_bin</span><br><span class="line">#校对规则 utf8_bin区分大小写 默认utf8_general_ci不区分大小写</span><br><span class="line"></span><br><span class="line">#下面是一条查询的<span class="keyword">sql</span>，<span class="keyword">select</span> 查询 <span class="operator">*</span> 表示所有字段 <span class="keyword">FROM</span>从那个表</span><br><span class="line">#<span class="keyword">WHERE</span> 从哪个字段 NAME <span class="operator">=</span> <span class="string">&#x27;tom&#x27;</span> 查询名字是tom</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">From</span> t1 <span class="keyword">WHere</span> name <span class="operator">=</span> <span class="string">&#x27;tom&#x27;</span></span><br></pre></td></tr></table></figure>

<h3 id="查看，创建数据库"><a href="#查看，创建数据库" class="headerlink" title="查看，创建数据库"></a>查看，创建数据库</h3><p><img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220311172254528.png" alt="image-20220311172254528"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">#演示删除和查询数据库</span><br><span class="line">#查看当前数据库服务器中所有的数据库</span><br><span class="line"><span class="keyword">SHOW</span> DATABASES</span><br><span class="line">#查看前面创建的hsp_db01数据库的定义信息</span><br><span class="line"><span class="keyword">SHOW</span> <span class="keyword">CREATE</span> DATABASE hsp_db03</span><br><span class="line">#说明：在创建数据库，表的时候，为了规避关键字，可以使用反引号解决</span><br><span class="line"><span class="keyword">CREATE</span> DATABASE `<span class="keyword">create</span>`</span><br><span class="line"><span class="keyword">DROP</span> DATABASE `<span class="keyword">create</span>`</span><br><span class="line"></span><br><span class="line">#删除前面创建的hsp_db01数据库</span><br><span class="line"><span class="keyword">DROP</span> DATABASE hsp_db01</span><br></pre></td></tr></table></figure>

<h3 id="备份，恢复数据库"><a href="#备份，恢复数据库" class="headerlink" title="备份，恢复数据库"></a>备份，恢复数据库</h3><p><img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220311174209886.png" alt="image-20220311174209886"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">#练习：database03.sql 备份hsp_db02 和 hsp_db03 库中的数据，并恢复</span><br><span class="line"></span><br><span class="line">#备份：要在Dos下执行mysqldump指令其实在mysql安装目录\bin</span><br><span class="line">#这个备份的文件，就是对应的<span class="keyword">sql</span>语句</span><br><span class="line">mysqldump <span class="operator">-</span>u root <span class="operator">-</span>p <span class="operator">-</span>B hsp_db02 hsp_db03 <span class="operator">&gt;</span> d:\\bak.sql</span><br><span class="line"></span><br><span class="line"><span class="keyword">DROP</span> DATABASE hsp_db02;</span><br><span class="line"></span><br><span class="line">#恢复数据库（注意：进入Mysql命令行再执行）</span><br><span class="line">source d:\\bak.sql</span><br><span class="line"></span><br><span class="line">#第二个恢复方法，直接将bak.sql的内容放到查询编辑器中，执行</span><br><span class="line"></span><br><span class="line">#尝试备份hsp_db02表t2</span><br><span class="line">mysqldump <span class="operator">-</span>u root <span class="operator">-</span>p hsp_db02 t2 <span class="operator">&gt;</span> d:\\t2bf.sql</span><br><span class="line">source d:\\bak.sql</span><br></pre></td></tr></table></figure>

<h2 id="表"><a href="#表" class="headerlink" title="表"></a>表</h2><h3 id="创建表"><a href="#创建表" class="headerlink" title="创建表"></a>创建表</h3><p><img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220311190521656.png" alt="image-20220311190521656"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">#指令创建表</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `<span class="keyword">user</span>`(</span><br><span class="line">	id <span class="type">INT</span>,</span><br><span class="line">	`name` <span class="type">VARCHAR</span>(<span class="number">255</span>),</span><br><span class="line">	`password` <span class="type">VARCHAR</span>(<span class="number">255</span>),</span><br><span class="line">	`birthday` <span class="type">DATE</span>)</span><br><span class="line">	<span class="type">CHARACTER</span> <span class="keyword">SET</span> utf8 <span class="keyword">COLLATE</span> utf8_bin ENGINE INNODB;</span><br></pre></td></tr></table></figure>

<h3 id="列类型（Mysql常用数据类型）"><a href="#列类型（Mysql常用数据类型）" class="headerlink" title="列类型（Mysql常用数据类型）"></a>列类型（Mysql常用数据类型）</h3><p><img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220311191917892.png" alt="image-20220311191917892"></p>
<p><img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220311201010506.png" alt="image-20220311201010506"></p>
<p><img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220311201323736.png" alt="image-20220311201323736"></p>
<p><img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220311201555909.png" alt="image-20220311201555909"></p>
<h4 id="整型"><a href="#整型" class="headerlink" title="整型"></a>整型</h4><p><img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220311203419517.png" alt="image-20220311203419517"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">#演示整型的使用</span><br><span class="line">#使用tinyint演示范围，有符号<span class="number">-128</span><span class="operator">~</span><span class="number">127</span>，无符号<span class="number">0</span><span class="number">-255</span></span><br><span class="line">#表的字符集，校验规则，储存引擎全部默认</span><br><span class="line">#如果没有指定unsigned，则tinyint就是有符号</span><br><span class="line"></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">TABLE</span> t3 (</span><br><span class="line">	id tinyint);</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> t4 (</span><br><span class="line">	id TINYINT unsigned);</span><br><span class="line">	</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> t3 <span class="keyword">values</span>(<span class="number">128</span>);#这是非常简单的添加语句</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> t4 <span class="keyword">values</span>(<span class="number">255</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> t3</span><br></pre></td></tr></table></figure>

<h4 id="数值型"><a href="#数值型" class="headerlink" title="数值型"></a>数值型</h4><h5 id="bit类"><a href="#bit类" class="headerlink" title="bit类"></a>bit类</h5><p><img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220311203827793.png" alt="image-20220311203827793"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">#演示bit类的使用</span><br><span class="line">#说明</span><br><span class="line">#<span class="number">1.</span>bit(m) m 在 <span class="number">1</span><span class="number">-64</span></span><br><span class="line">#<span class="number">2.</span>添加数据 范围 按照你给的位数来确定，比如 m <span class="operator">=</span> <span class="number">8</span> 表示一个字节 <span class="number">0</span><span class="operator">~</span><span class="number">255</span></span><br><span class="line">#<span class="number">3.</span>显示按照bit</span><br><span class="line">#<span class="number">4.</span>查询时，任然可以按照数来查询</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> t05 (num BIT(<span class="number">8</span>));</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> t05;</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> t05 <span class="keyword">WHERE</span> num <span class="operator">=</span><span class="number">1</span>;</span><br></pre></td></tr></table></figure>

<h5 id="小数型"><a href="#小数型" class="headerlink" title="小数型"></a>小数型</h5><p><img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220311204936911.png" alt="image-20220311204936911"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">#创建表</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> t06 (</span><br><span class="line">	num1 <span class="type">FLOAT</span>,</span><br><span class="line">	num2 <span class="keyword">DOUBLE</span>,</span><br><span class="line">	num3 <span class="type">DECIMAL</span>(<span class="number">30</span>,<span class="number">20</span>));</span><br><span class="line">#添加数据</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> t06 <span class="keyword">VALUES</span>(<span class="number">88.12345678912345</span>,<span class="number">88.12345678912345</span>,<span class="number">88.12345678912345</span>);</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> t06;</span><br><span class="line"></span><br><span class="line">#<span class="type">decimal</span>可以存放很大的数</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> t07 (</span><br><span class="line">	num <span class="type">DECIMAL</span>(<span class="number">65</span>));</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> t07 <span class="keyword">VALUES</span>(<span class="number">8999999999999999999999999999999999999999999999</span>);</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> t07</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> t08 (</span><br><span class="line">	num <span class="type">BIGINT</span> UNSIGNED);</span><br><span class="line">#错误</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> t08 <span class="keyword">VALUES</span>(<span class="number">8999999999999999999999999999999999999999999999</span>);</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> t08</span><br></pre></td></tr></table></figure>

<h4 id="字符串"><a href="#字符串" class="headerlink" title="字符串"></a>字符串</h4><p><img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220311211651161.png" alt="image-20220311211651161"></p>
<p><img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220311211750134.png" alt="image-20220311211750134"></p>
<p>char的size是字符个数255</p>
<p>varchar的size是指字节最多65535，实际存储并没有这么多，首先有1~3个字节用于记录大小，其次在utf8编码下每个字符占用三个字节，因此可存储字符数要在字节数上除于3</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">#演示字符串类型使用<span class="type">char</span> <span class="type">varchar</span></span><br><span class="line">#注释快捷键 shift<span class="operator">+</span>ctrl<span class="operator">+</span>c 注销注释 shift<span class="operator">+</span>ctrl<span class="operator">+</span>r</span><br><span class="line"><span class="comment">-- CHAR（size）</span></span><br><span class="line"><span class="comment">-- 固定长度字符串 最大 255 字符</span></span><br><span class="line"><span class="comment">-- VARCHAR(size)   0~65535字节</span></span><br><span class="line"><span class="comment">-- 可变长度字符串 最大65535字节 （utf8编码最大字符21844字符 1-3个字节用于记录）</span></span><br><span class="line"><span class="comment">-- 如果表的编码是 utf8 varchar(size) size = (65535-3) / 3 = 21844</span></span><br><span class="line"><span class="comment">-- 如果表的编码是 gbk varchar(size) size = (65535-3) / 2 = 32766 </span></span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> t09 (</span><br><span class="line">	`name` <span class="type">CHAR</span>(<span class="number">255</span>));</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> t10 (</span><br><span class="line">	`name` <span class="type">VARCHAR</span>(<span class="number">32766</span>)) CHARSET gbk;</span><br></pre></td></tr></table></figure>

<h5 id="使用细节"><a href="#使用细节" class="headerlink" title="使用细节"></a>使用细节</h5><p><img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220312142127299.png" alt="image-20220312142127299"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">#演示字符串类型细节</span><br><span class="line">#<span class="type">char</span>(<span class="number">4</span>) 和 <span class="type">varchar</span>(<span class="number">4</span>) 这个<span class="number">4</span>表示的是字符，而不是字节，不区分字符是汉字还是字母</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> t11(</span><br><span class="line">	`name` <span class="type">CHAR</span>(<span class="number">4</span>));</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> t11 <span class="keyword">VALUES</span>(<span class="string">&#x27;李林涛牛&#x27;</span>);#存放成功</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> t11 <span class="keyword">VALUES</span>(<span class="string">&#x27;李林涛牛B&#x27;</span>);#存放失败</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> t11;</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> t12(</span><br><span class="line">	`name` <span class="type">VARCHAR</span>(<span class="number">4</span>));</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> t12 <span class="keyword">VALUES</span>(<span class="string">&#x27;李林涛牛&#x27;</span>);#存放成功</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> t12 <span class="keyword">VALUES</span>(<span class="string">&#x27;李林涛牛B&#x27;</span>);#存放失败</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> t12;</span><br></pre></td></tr></table></figure>

<p><img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220312143318467.png" alt="image-20220312143318467"></p>
<p><img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220312143451262.png" alt="image-20220312143451262"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#如果<span class="type">varchar</span>不够用，可以考虑使用mediumtext 或者 longtext</span><br><span class="line">#如果想简单点，可以直接使用text</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> t13( content TEXT, content2 MEDIUMTEXT ,content3 LONGTEXT);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> t13 <span class="keyword">VALUES</span>(<span class="string">&#x27;韩顺平教育&#x27;</span>,<span class="string">&#x27;韩顺平教育100&#x27;</span>,<span class="string">&#x27;韩顺平教育1000``&#x27;</span>);</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> t13</span><br></pre></td></tr></table></figure>

<p>关于字符计算：</p>
<p><img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220312144242391.png" alt="image-20220312144242391"></p>
<h4 id="日期类"><a href="#日期类" class="headerlink" title="日期类"></a>日期类</h4><p><img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220312150015225.png" alt="image-20220312150015225"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">#演示时间相关的类型</span><br><span class="line">#创建一张表，<span class="type">date</span>,datetime,<span class="type">timestamp</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> t14(</span><br><span class="line">	birthday <span class="type">DATE</span>, <span class="comment">-- 生日</span></span><br><span class="line">	job_time DATETIME, <span class="comment">-- 记录年月日 时分秒</span></span><br><span class="line">	login_time <span class="type">TIMESTAMP</span></span><br><span class="line">		<span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="built_in">CURRENT_TIMESTAMP</span></span><br><span class="line">		<span class="keyword">ON</span> <span class="keyword">UPDATE</span> <span class="built_in">CURRENT_TIMESTAMP</span>); <span class="comment">-- 登陆时间，如果希望login_time列自动更新，需要配置</span></span><br><span class="line">		</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> t14(birthday,job_time)</span><br><span class="line">	<span class="keyword">VALUES</span>(<span class="string">&#x27;2022-11-11&#x27;</span>,<span class="string">&#x27;2020-11-11 10:10:10&#x27;</span>);</span><br><span class="line"> <span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> t14</span><br><span class="line"><span class="comment">--  如果我们更新 t14表的某条记录，login time列会自动的以当前时间进行更新</span></span><br></pre></td></tr></table></figure>

<h4 id="创建表练习"><a href="#创建表练习" class="headerlink" title="创建表练习"></a>创建表练习</h4><p><img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220312150054377.png" alt="image-20220312150054377"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">#创建表练习</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> emp(</span><br><span class="line">	Id <span class="type">INT</span>,</span><br><span class="line">	`name` <span class="type">VARCHAR</span>(<span class="number">32</span>),</span><br><span class="line">	sex <span class="type">CHAR</span>(<span class="number">1</span>),</span><br><span class="line">	birthday <span class="type">DATE</span>,</span><br><span class="line">	entry_date DATETIME,</span><br><span class="line">	job <span class="type">VARCHAR</span>(<span class="number">32</span>),</span><br><span class="line">	salary <span class="keyword">DOUBLE</span>,</span><br><span class="line">	`resume` TEXT)</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> emp;</span><br></pre></td></tr></table></figure>

<h3 id="修改表"><a href="#修改表" class="headerlink" title="修改表"></a>修改表</h3><img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220312152449712.png" alt="image-20220312152449712" style="zoom:200%;" />

<p><img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220312152528410.png" alt="image-20220312152528410"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">#修改表的操作练习</span><br><span class="line"></span><br><span class="line">#增加</span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> emp</span><br><span class="line">	<span class="keyword">ADD</span> image <span class="type">VARCHAR</span>(<span class="number">32</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="string">&#x27;&#x27;</span> </span><br><span class="line">	AFTER RESUME</span><br><span class="line"><span class="keyword">DESC</span> emp <span class="comment">-- 显示表的结构，可以查看所有列</span></span><br><span class="line"></span><br><span class="line">#修改</span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> emp</span><br><span class="line">	MODIFY	job <span class="type">VARCHAR</span>(<span class="number">60</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="string">&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line">#删除</span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> emp</span><br><span class="line">	<span class="keyword">DROP</span> sex</span><br><span class="line"></span><br><span class="line">#修改表名</span><br><span class="line">RENAME <span class="keyword">TABLE</span> emp <span class="keyword">TO</span> employee</span><br><span class="line"></span><br><span class="line">#修改表的字符集</span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> employee <span class="type">CHARACTER</span> <span class="keyword">SET</span> utf8</span><br><span class="line"></span><br><span class="line">#列名name修改为 employee</span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> employee </span><br><span class="line">	CHANGE `name` `user_name` <span class="type">VARCHAR</span>(<span class="number">64</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="string">&#x27;&#x27;</span></span><br><span class="line"><span class="keyword">DESC</span> employee</span><br></pre></td></tr></table></figure>

<h2 id="数据库CRUD"><a href="#数据库CRUD" class="headerlink" title="数据库CRUD"></a>数据库CRUD</h2><p><img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220312154909723.png" alt="image-20220312154909723"></p>
<h3 id="Insert语句"><a href="#Insert语句" class="headerlink" title="Insert语句"></a>Insert语句</h3><p><img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220312155129220.png" alt="image-20220312155129220"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">#练习<span class="keyword">insert</span>语句</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> goods(</span><br><span class="line">	id <span class="type">INT</span>,</span><br><span class="line">	goods_name <span class="type">VARCHAR</span>(<span class="number">10</span>),</span><br><span class="line">	price <span class="keyword">DOUBLE</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 添加数据 </span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> goods (id,goods_name,price)</span><br><span class="line">	<span class="keyword">VALUES</span>(<span class="number">3</span>,<span class="string">&#x27;手机&#x27;</span>,<span class="number">1234</span>)</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> goods (id,goods_name,price)</span><br><span class="line">	<span class="keyword">VALUES</span>(<span class="number">2</span>,<span class="string">&#x27;小黄书&#x27;</span>,<span class="number">12</span>)</span><br><span class="line">	</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> goods</span><br></pre></td></tr></table></figure>

<p><img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220312155917800.png" alt="image-20220312155917800"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> employee (Id,user_name,birthday,entry_date,job,salary,`resume`,image)</span><br><span class="line">	<span class="keyword">VALUES</span>(<span class="number">5</span>,</span><br><span class="line">	<span class="string">&#x27;nico&#x27;</span>,</span><br><span class="line">	<span class="string">&#x27;2003-04-23&#x27;</span>,</span><br><span class="line">	<span class="string">&#x27;2003-04-23 10:10:10&#x27;</span>,</span><br><span class="line">	<span class="string">&#x27;police&#x27;</span>,</span><br><span class="line">	<span class="number">1234.5</span>,</span><br><span class="line">	<span class="string">&#x27;hhh&#x27;</span>,</span><br><span class="line">	<span class="string">&#x27;666&#x27;</span>)</span><br><span class="line"> </span><br><span class="line"> <span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> employee</span><br></pre></td></tr></table></figure>

<h4 id="Insert细节"><a href="#Insert细节" class="headerlink" title="Insert细节"></a>Insert细节</h4><p>I<img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220312160932012.png" alt="image-20220312160932012"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">#说明 <span class="keyword">insert</span> 语句的细节</span><br><span class="line"><span class="comment">-- 1.插入的数据应与字段的数据类型相同。</span></span><br><span class="line"><span class="comment">-- 比如 把 &#x27;abc&#x27; 添加到 int 类型会错误</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `goods` (id, goods_name, price)</span><br><span class="line"><span class="keyword">VALUES</span>(<span class="string">&#x27;韩顺平&#x27;</span>, <span class="string">&#x27;小米手机&#x27;</span>, <span class="number">2000</span>); </span><br><span class="line"></span><br><span class="line"><span class="comment">-- 2. 数据的长度应在列的规定范围内，例如：不能将一个长度为 80 的字符串加入到长度为 40 的列中。</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `goods` (id, goods_name, price)</span><br><span class="line"><span class="keyword">VALUES</span>(<span class="number">40</span>, <span class="string">&#x27;vovo 手机 vovo 手机 vovo 手机 vovo 手机 vovo 手机&#x27;</span>, <span class="number">3000</span>); </span><br><span class="line"></span><br><span class="line"><span class="comment">-- 3. 在 values 中列出的数据位置必须与被加入的列的排列位置相对应。</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `goods` (id, goods_name, price) <span class="comment">-- 不对</span></span><br><span class="line"><span class="keyword">VALUES</span>(<span class="string">&#x27;vovo 手机&#x27;</span>,<span class="number">40</span>, <span class="number">2000</span>); </span><br><span class="line"></span><br><span class="line"><span class="comment">-- 4. 字符和日期型数据应包含在单引号中。</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `goods` (id, goods_name, price)</span><br><span class="line"><span class="keyword">VALUES</span>(<span class="number">40</span>, vovo 手机, <span class="number">3000</span>); <span class="comment">-- 错误的 vovo 手机 应该 &#x27;vovo 手机&#x27; </span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 5. 列可以插入空值[前提是该字段允许为空]，insert into table value(null)</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `goods` (id, goods_name, price)</span><br><span class="line"><span class="keyword">VALUES</span>(<span class="number">40</span>, <span class="string">&#x27;vovo 手机&#x27;</span>, <span class="keyword">NULL</span>); </span><br><span class="line"></span><br><span class="line"><span class="comment">-- 6. insert into tab_name (列名..) values (),(),() 形式添加多条记录</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `goods` (id, goods_name, price)</span><br><span class="line"><span class="keyword">VALUES</span>(<span class="number">50</span>, <span class="string">&#x27;三星手机&#x27;</span>, <span class="number">2300</span>),(<span class="number">60</span>, <span class="string">&#x27;海尔手机&#x27;</span>, <span class="number">1800</span>); </span><br><span class="line"></span><br><span class="line"><span class="comment">-- 7. 如果是给表中的所有字段添加数据，可以不写前面的字段名称</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `goods` <span class="keyword">VALUES</span>(<span class="number">70</span>, <span class="string">&#x27;IBM 手机&#x27;</span>, <span class="number">5000</span>); </span><br><span class="line"></span><br><span class="line"><span class="comment">-- 8. 默认值的使用，当不给某个字段值时，如果有默认值就会添加默认值，否则报错</span></span><br><span class="line"><span class="comment">-- 如果某个列 没有指定 not null ,那么当添加数据时，没有给定值，则会默认给 null -- 如果我们希望指定某个列的默认值，可以在创建表时指定</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `goods` (id, goods_name)</span><br><span class="line"><span class="keyword">VALUES</span>(<span class="number">80</span>, <span class="string">&#x27;格力手机&#x27;</span>);</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> goods;</span><br></pre></td></tr></table></figure>

<h3 id="update语句"><a href="#update语句" class="headerlink" title="update语句"></a>update语句</h3><p><img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220312163305915.png" alt="image-20220312163305915"></p>
<p>这里如果没有where，就表示对表中该字段下的所有数据进行修改</p>
<p><img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220312163412561.png" alt="image-20220312163412561"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">#演示<span class="keyword">update</span>语句</span><br><span class="line">#这里如果没有<span class="keyword">where</span>，</span><br><span class="line">#就表示对表中该字段下的所有数据进行修改，慎重！</span><br><span class="line"><span class="keyword">UPDATE</span> employee</span><br><span class="line">	<span class="keyword">SET</span> salary <span class="operator">=</span> <span class="number">5000</span>;</span><br><span class="line"></span><br><span class="line">#将nico的工资改为<span class="number">3000</span></span><br><span class="line"><span class="keyword">UPDATE</span> employee</span><br><span class="line">	<span class="keyword">SET</span> salary <span class="operator">=</span> <span class="number">3000</span></span><br><span class="line">	<span class="keyword">WHERE</span> user_name <span class="operator">=</span> <span class="string">&#x27;nico&#x27;</span></span><br><span class="line">	</span><br><span class="line">#将nico的工资在原先的基础上加<span class="number">1000</span></span><br><span class="line"><span class="keyword">UPDATE</span> employee</span><br><span class="line">	<span class="keyword">SET</span> salary <span class="operator">=</span> salary <span class="operator">+</span> <span class="number">1000</span> , job <span class="operator">=</span> <span class="string">&#x27;出主意的&#x27;</span></span><br><span class="line">	<span class="keyword">WHERE</span> user_name <span class="operator">=</span> <span class="string">&#x27;nico&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> employee</span><br></pre></td></tr></table></figure>

<h4 id="update细节"><a href="#update细节" class="headerlink" title="update细节"></a>update细节</h4><p><img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220312164221361.png" alt="image-20220312164221361"></p>
<h3 id="delete语句"><a href="#delete语句" class="headerlink" title="delete语句"></a>delete语句</h3><p><img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220312164801803.png" alt="image-20220312164801803"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">#<span class="keyword">delete</span>语句演示</span><br><span class="line"></span><br><span class="line">#删除表中名称为‘nini’的记录</span><br><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> employee</span><br><span class="line">	<span class="keyword">WHERE</span> user_name <span class="operator">=</span> <span class="string">&#x27;nini&#x27;</span></span><br><span class="line">#删除表中所有记录，一定要小心</span><br><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> employee</span><br><span class="line"></span><br><span class="line">#<span class="keyword">delete</span>语句不能删除某一列的值（可以使用<span class="keyword">update</span> 设为<span class="keyword">null</span> 或者 ‘ ‘）</span><br><span class="line"><span class="keyword">UPDATE</span> employee <span class="keyword">SET</span> job <span class="operator">=</span> <span class="string">&#x27;&#x27;</span> <span class="keyword">WHERE</span> user_name <span class="operator">=</span> <span class="string">&#x27;nico&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> employee</span><br></pre></td></tr></table></figure>

<h4 id="delete使用细节"><a href="#delete使用细节" class="headerlink" title="delete使用细节"></a>delete使用细节</h4><p><img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220312165743311.png" alt="image-20220312165743311"></p>
<h3 id="select语句"><a href="#select语句" class="headerlink" title="select语句"></a>select语句</h3><p><img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220312191827694.png" alt="image-20220312191827694"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">#<span class="keyword">select</span>语句，重难点</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> student(</span><br><span class="line">	id <span class="type">INT</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="number">1</span>,</span><br><span class="line">	`name` <span class="type">VARCHAR</span>(<span class="number">20</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">	chinese <span class="type">FLOAT</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="number">0.0</span>,</span><br><span class="line">	english <span class="type">FLOAT</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="number">0.0</span>,</span><br><span class="line">	math <span class="type">FLOAT</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="number">0.0</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student(id,NAME,chinese,english,math) <span class="keyword">VALUES</span>(<span class="number">1</span>,<span class="string">&#x27;韩顺平&#x27;</span>,<span class="number">89</span>,<span class="number">78</span>,<span class="number">90</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student(id,NAME,chinese,english,math) <span class="keyword">VALUES</span>(<span class="number">2</span>,<span class="string">&#x27;张飞&#x27;</span>,<span class="number">67</span>,<span class="number">98</span>,<span class="number">56</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student(id,NAME,chinese,english,math) <span class="keyword">VALUES</span>(<span class="number">3</span>,<span class="string">&#x27;宋江&#x27;</span>,<span class="number">87</span>,<span class="number">78</span>,<span class="number">77</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student(id,NAME,chinese,english,math) <span class="keyword">VALUES</span>(<span class="number">4</span>,<span class="string">&#x27;关羽&#x27;</span>,<span class="number">88</span>,<span class="number">98</span>,<span class="number">90</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student(id,NAME,chinese,english,math) <span class="keyword">VALUES</span>(<span class="number">5</span>,<span class="string">&#x27;赵云&#x27;</span>,<span class="number">82</span>,<span class="number">64</span>,<span class="number">67</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student(id,NAME,chinese,english,math) <span class="keyword">VALUES</span>(<span class="number">6</span>,<span class="string">&#x27;欧阳锋&#x27;</span>,<span class="number">55</span>,<span class="number">85</span>,<span class="number">45</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student(id,NAME,chinese,english,math) <span class="keyword">VALUES</span>(<span class="number">7</span>,<span class="string">&#x27;黄蓉&#x27;</span>,<span class="number">75</span>,<span class="number">65</span>,<span class="number">30</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> student</span><br><span class="line"></span><br><span class="line">#查询表中所有学生的姓名和对应的英语成绩</span><br><span class="line"><span class="keyword">SELECT</span> `name`,english <span class="keyword">FROM</span> student</span><br><span class="line"></span><br><span class="line">#过滤表中重复数据 <span class="keyword">distinct</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span> english <span class="keyword">FROM</span> student</span><br><span class="line"></span><br><span class="line">#<span class="keyword">distinct</span>过滤条件：要查询的记录，每个字段都相同，才会去重</span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span> `name`,english <span class="keyword">FROM</span> student</span><br></pre></td></tr></table></figure>

<p><img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220312193931442.png" alt="image-20220312193931442"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">#<span class="keyword">select</span>语句的使用</span><br><span class="line"></span><br><span class="line">#统计每个学生的总分</span><br><span class="line"><span class="keyword">SELECT</span> `name`,(chinese <span class="operator">+</span> english <span class="operator">+</span> math) <span class="keyword">FROM</span> student</span><br><span class="line">#在所有学生的总分上<span class="operator">+</span><span class="number">10</span>的情况</span><br><span class="line"><span class="keyword">SELECT</span> `name`,(chinese <span class="operator">+</span> english <span class="operator">+</span> math <span class="operator">+</span> <span class="number">10</span>) <span class="keyword">FROM</span> student</span><br><span class="line">#使用别名表示学生分数</span><br><span class="line"><span class="keyword">SELECT</span> `name`,(chinese <span class="operator">+</span> english <span class="operator">+</span> math) <span class="keyword">AS</span> total_score <span class="keyword">FROM</span> student</span><br></pre></td></tr></table></figure>

<p><img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220312194613994.png" alt="image-20220312194613994"></p>
<p><img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220312194647825.png" alt="image-20220312194647825"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">#<span class="keyword">select</span>语句</span><br><span class="line"></span><br><span class="line">#查询姓名为赵云的学生的成绩</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> student <span class="keyword">where</span> `name` <span class="operator">=</span> <span class="string">&#x27;赵云&#x27;</span></span><br><span class="line"></span><br><span class="line">#查询英语成绩大于<span class="number">90</span>分的同学</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> student <span class="keyword">where</span> english <span class="operator">&gt;</span> <span class="number">90</span></span><br><span class="line"></span><br><span class="line">#查询总分大于<span class="number">200</span>分的同学</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> student <span class="keyword">where</span> (english <span class="operator">+</span> chinese <span class="operator">+</span> math) <span class="operator">&gt;</span> <span class="number">200</span></span><br><span class="line"></span><br><span class="line">#查询math大于<span class="number">60</span> 并且 id 大于 <span class="number">90</span> 的学生成绩</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> student <span class="keyword">WHERE</span> math <span class="operator">&gt;</span> <span class="number">60</span> <span class="keyword">AND</span> id <span class="operator">&gt;</span> <span class="number">90</span></span><br><span class="line"></span><br><span class="line">#查询英语成绩大于语文成绩的同学</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> student <span class="keyword">WHERE</span> english <span class="operator">&gt;</span> chinese</span><br><span class="line"></span><br><span class="line">#查询总分大于<span class="number">200</span> 并且 数学成绩小于语文成绩，的性韩的成绩的同学</span><br><span class="line">#赵<span class="operator">%</span> 表示 名字以赵开头的</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> student <span class="keyword">WHERE</span> (chinese <span class="operator">+</span> english <span class="operator">+</span> math) <span class="operator">&gt;</span> <span class="number">200</span> <span class="keyword">AND</span> math <span class="operator">&lt;</span> chinese <span class="keyword">AND</span></span><br><span class="line">`name` <span class="keyword">LIKE</span> <span class="string">&#x27;赵%&#x27;</span></span><br></pre></td></tr></table></figure>

<p><img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220312200203194.png" alt="image-20220312200203194"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> student <span class="keyword">WHERE</span> english <span class="keyword">BETWEEN</span> <span class="number">80</span> <span class="keyword">AND</span> <span class="number">90</span> #两端都是闭区间</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> student <span class="keyword">WHERE</span> math <span class="operator">=</span> <span class="number">89</span> <span class="keyword">OR</span> math <span class="operator">=</span>  <span class="number">90</span> <span class="keyword">OR</span> math <span class="operator">=</span>  <span class="number">91</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> student <span class="keyword">WHERE</span> `name` <span class="keyword">LIKE</span> <span class="string">&#x27;李%&#x27;</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> student <span class="keyword">WHERE</span> math <span class="operator">&gt;</span> <span class="number">80</span> <span class="keyword">AND</span> chinese <span class="operator">&gt;</span> <span class="number">80</span></span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">OM student <span class="keyword">WHERE</span> english <span class="keyword">BETWEEN</span> <span class="number">80</span> <span class="keyword">AND</span> <span class="number">90</span> #两端都是闭区间</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> student <span class="keyword">WHERE</span> math <span class="operator">=</span> <span class="number">89</span> <span class="keyword">OR</span> math <span class="operator">=</span>  <span class="number">90</span> <span class="keyword">OR</span> math <span class="operator">=</span>  <span class="number">91</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> student <span class="keyword">WHERE</span> math <span class="keyword">IN</span> (<span class="number">89</span>,<span class="number">90</span>,<span class="number">91</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> student <span class="keyword">WHERE</span> `name` <span class="keyword">LIKE</span> <span class="string">&#x27;李%&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> student <span class="keyword">WHERE</span> math <span class="operator">&gt;</span> <span class="number">80</span> <span class="keyword">AND</span> chinese <span class="operator">&gt;</span> <span class="number">80</span></span><br></pre></td></tr></table></figure>

<p><img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220312201234303.png" alt="image-20220312201234303"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">#演示<span class="keyword">order</span> <span class="keyword">by</span>使用</span><br><span class="line">#对数学成绩排序后输出（默认升序）</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> student <span class="keyword">ORDER</span> <span class="keyword">BY</span> math</span><br><span class="line"></span><br><span class="line">#对总分按降序输出</span><br><span class="line"><span class="keyword">SELECT</span> `name`,(chinese <span class="operator">+</span> english <span class="operator">+</span> math) <span class="keyword">AS</span> total_score <span class="keyword">FROM</span> student <span class="keyword">ORDER</span> <span class="keyword">BY</span> total_score <span class="keyword">DESC</span></span><br><span class="line"></span><br><span class="line">#对姓韩的学生成绩按照升序输出</span><br><span class="line"><span class="keyword">SELECT</span> `name`,(chinese <span class="operator">+</span> english <span class="operator">+</span> math) <span class="keyword">AS</span> total_score <span class="keyword">FROM</span> student <span class="keyword">WHERE</span> `name` <span class="keyword">LIKE</span> <span class="string">&#x27;韩%&#x27;</span> <span class="keyword">ORDER</span> <span class="keyword">BY</span> total_score</span><br></pre></td></tr></table></figure>

<h4 id="重要函数"><a href="#重要函数" class="headerlink" title="重要函数"></a>重要函数</h4><h5 id="合计-统计函数"><a href="#合计-统计函数" class="headerlink" title="合计/统计函数"></a>合计/统计函数</h5><h6 id="count"><a href="#count" class="headerlink" title="count"></a>count</h6><p><img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220312203514902.png" alt="image-20220312203514902"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">#演示mysql的统计函数的使用</span><br><span class="line">#统计一个班有多少学生</span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">COUNT</span>(<span class="operator">*</span>) <span class="keyword">FROM</span> student;</span><br><span class="line">#统计数学成绩大于<span class="number">90</span>的学生有多少</span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">COUNT</span>(<span class="operator">*</span>) <span class="keyword">FROM</span> student <span class="keyword">WHERE</span> math <span class="operator">&gt;</span> <span class="number">90</span></span><br><span class="line">#统计总分大于<span class="number">250</span>的学生有多少</span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">COUNT</span>(<span class="operator">*</span>) <span class="keyword">FROM</span> student <span class="keyword">WHERE</span> (math <span class="operator">+</span> chinese <span class="operator">+</span>english) <span class="operator">&gt;</span> <span class="number">250</span></span><br><span class="line">#count（<span class="operator">*</span>）和 count（列）的区别</span><br><span class="line">#解释：count（<span class="operator">*</span>）返回满足条件的记录的行数</span><br><span class="line">#count（列）：统计满足条件的某列有多少个，但是会排除 为<span class="keyword">null</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> t15(</span><br><span class="line">	`name` <span class="type">VARCHAR</span>(<span class="number">20</span>));</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> t15 <span class="keyword">VALUES</span>(<span class="string">&#x27;tom&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> t15 <span class="keyword">VALUES</span>(<span class="string">&#x27;jack&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> t15 <span class="keyword">VALUES</span>(<span class="string">&#x27;mary&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> t15 <span class="keyword">VALUES</span>(<span class="keyword">NULL</span>);</span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">COUNT</span>(<span class="operator">*</span>) <span class="keyword">FROM</span> t15; #<span class="number">4</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">COUNT</span>(`name`) <span class="keyword">FROM</span> t15; #<span class="number">3</span></span><br></pre></td></tr></table></figure>

<h6 id="sum"><a href="#sum" class="headerlink" title="sum"></a>sum</h6><p><img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220312211945542.png" alt="image-20220312211945542"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#演示sum函数</span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">SUM</span>(math) <span class="keyword">FROM</span> student;</span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">SUM</span>(math),<span class="built_in">SUM</span>(english),<span class="built_in">SUM</span>(chinese) <span class="keyword">FROM</span> student;</span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">SUM</span>(math <span class="operator">+</span> chinese <span class="operator">+</span> english) <span class="keyword">FROM</span> student;</span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">SUM</span>(chinese) <span class="operator">/</span> <span class="built_in">COUNT</span>(<span class="operator">*</span>) <span class="keyword">FROM</span> student;</span><br></pre></td></tr></table></figure>

<h6 id="avg"><a href="#avg" class="headerlink" title="avg"></a>avg</h6><p><img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220312212508532.png" alt="image-20220312212508532"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#演示avg使用</span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">AVG</span>(math) <span class="keyword">FROM</span> student;</span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">AVG</span>(math <span class="operator">+</span> english <span class="operator">+</span> chinese) <span class="keyword">FROM</span> student;</span><br></pre></td></tr></table></figure>

<h6 id="max-min"><a href="#max-min" class="headerlink" title="max/min"></a>max/min</h6><p><img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220312212714286.png" alt="image-20220312212714286"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#演示max和min的使用</span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">MAX</span>(math),<span class="built_in">MIN</span>(math) <span class="keyword">FROM</span> student;</span><br></pre></td></tr></table></figure>

<h5 id="group-by-having"><a href="#group-by-having" class="headerlink" title="group by/having"></a>group by/having</h5><p><img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220313222554445.png" alt="image-20220313222554445"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line">#创建表</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> dept( <span class="comment">/*部门表*/</span></span><br><span class="line">deptno MEDIUMINT   UNSIGNED  <span class="keyword">NOT</span> <span class="keyword">NULL</span>  <span class="keyword">DEFAULT</span> <span class="number">0</span>, </span><br><span class="line">dname <span class="type">VARCHAR</span>(<span class="number">20</span>)  <span class="keyword">NOT</span> <span class="keyword">NULL</span>  <span class="keyword">DEFAULT</span> &quot;&quot;,</span><br><span class="line">loc <span class="type">VARCHAR</span>(<span class="number">13</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> &quot;&quot;</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> dept <span class="keyword">VALUES</span>(<span class="number">10</span>, <span class="string">&#x27;ACCOUNTING&#x27;</span>, <span class="string">&#x27;NEW YORK&#x27;</span>), (<span class="number">20</span>, <span class="string">&#x27;RESEARCH&#x27;</span>, <span class="string">&#x27;DALLAS&#x27;</span>), (<span class="number">30</span>, <span class="string">&#x27;SALES&#x27;</span>, <span class="string">&#x27;CHICAGO&#x27;</span>), (<span class="number">40</span>, <span class="string">&#x27;OPERATIONS&#x27;</span>, <span class="string">&#x27;BOSTON&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> dept;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#创建表EMP雇员</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> emp</span><br><span class="line">(empno  MEDIUMINT UNSIGNED  <span class="keyword">NOT</span> <span class="keyword">NULL</span>  <span class="keyword">DEFAULT</span> <span class="number">0</span>, <span class="comment">/*编号*/</span></span><br><span class="line">ename <span class="type">VARCHAR</span>(<span class="number">20</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> &quot;&quot;, <span class="comment">/*名字*/</span></span><br><span class="line">job <span class="type">VARCHAR</span>(<span class="number">9</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> &quot;&quot;,<span class="comment">/*工作*/</span></span><br><span class="line">mgr MEDIUMINT UNSIGNED ,<span class="comment">/*上级编号*/</span></span><br><span class="line">hiredate <span class="type">DATE</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span>,<span class="comment">/*入职时间*/</span></span><br><span class="line">sal <span class="type">DECIMAL</span>(<span class="number">7</span>,<span class="number">2</span>)  <span class="keyword">NOT</span> <span class="keyword">NULL</span>,<span class="comment">/*薪水*/</span></span><br><span class="line">comm <span class="type">DECIMAL</span>(<span class="number">7</span>,<span class="number">2</span>) ,<span class="comment">/*红利*/</span></span><br><span class="line">deptno MEDIUMINT UNSIGNED <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="number">0</span> <span class="comment">/*部门编号*/</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> emp</span><br><span class="line"> </span><br><span class="line"> <span class="keyword">INSERT</span> <span class="keyword">INTO</span> emp <span class="keyword">VALUES</span>(<span class="number">7369</span>, <span class="string">&#x27;SMITH&#x27;</span>, <span class="string">&#x27;CLERK&#x27;</span>, <span class="number">7902</span>, <span class="string">&#x27;1990-12-17&#x27;</span>, <span class="number">800.00</span>,<span class="keyword">NULL</span> , <span class="number">20</span>), </span><br><span class="line">(<span class="number">7499</span>, <span class="string">&#x27;ALLEN&#x27;</span>, <span class="string">&#x27;SALESMAN&#x27;</span>, <span class="number">7698</span>, <span class="string">&#x27;1991-2-20&#x27;</span>, <span class="number">1600.00</span>, <span class="number">300.00</span>, <span class="number">30</span>),  </span><br><span class="line">(<span class="number">7521</span>, <span class="string">&#x27;WARD&#x27;</span>, <span class="string">&#x27;SALESMAN&#x27;</span>, <span class="number">7698</span>, <span class="string">&#x27;1991-2-22&#x27;</span>, <span class="number">1250.00</span>, <span class="number">500.00</span>, <span class="number">30</span>),  </span><br><span class="line">(<span class="number">7566</span>, <span class="string">&#x27;JONES&#x27;</span>, <span class="string">&#x27;MANAGER&#x27;</span>, <span class="number">7839</span>, <span class="string">&#x27;1991-4-2&#x27;</span>, <span class="number">2975.00</span>,<span class="keyword">NULL</span>,<span class="number">20</span>),  </span><br><span class="line">(<span class="number">7654</span>, <span class="string">&#x27;MARTIN&#x27;</span>, <span class="string">&#x27;SALESMAN&#x27;</span>, <span class="number">7698</span>, <span class="string">&#x27;1991-9-28&#x27;</span>,<span class="number">1250.00</span>,<span class="number">1400.00</span>,<span class="number">30</span>),  </span><br><span class="line">(<span class="number">7698</span>, <span class="string">&#x27;BLAKE&#x27;</span>,<span class="string">&#x27;MANAGER&#x27;</span>, <span class="number">7839</span>,<span class="string">&#x27;1991-5-1&#x27;</span>, <span class="number">2850.00</span>,<span class="keyword">NULL</span>,<span class="number">30</span>),  </span><br><span class="line">(<span class="number">7782</span>, <span class="string">&#x27;CLARK&#x27;</span>,<span class="string">&#x27;MANAGER&#x27;</span>, <span class="number">7839</span>, <span class="string">&#x27;1991-6-9&#x27;</span>,<span class="number">2450.00</span>,<span class="keyword">NULL</span>,<span class="number">10</span>),  </span><br><span class="line">(<span class="number">7788</span>, <span class="string">&#x27;SCOTT&#x27;</span>,<span class="string">&#x27;ANALYST&#x27;</span>,<span class="number">7566</span>, <span class="string">&#x27;1997-4-19&#x27;</span>,<span class="number">3000.00</span>,<span class="keyword">NULL</span>,<span class="number">20</span>),  </span><br><span class="line">(<span class="number">7839</span>, <span class="string">&#x27;KING&#x27;</span>,<span class="string">&#x27;PRESIDENT&#x27;</span>,<span class="keyword">NULL</span>,<span class="string">&#x27;1991-11-17&#x27;</span>,<span class="number">5000.00</span>,<span class="keyword">NULL</span>,<span class="number">10</span>),  </span><br><span class="line">(<span class="number">7844</span>, <span class="string">&#x27;TURNER&#x27;</span>, <span class="string">&#x27;SALESMAN&#x27;</span>,<span class="number">7698</span>, <span class="string">&#x27;1991-9-8&#x27;</span>, <span class="number">1500.00</span>, <span class="keyword">NULL</span>,<span class="number">30</span>),  </span><br><span class="line">(<span class="number">7900</span>, <span class="string">&#x27;JAMES&#x27;</span>,<span class="string">&#x27;CLERK&#x27;</span>,<span class="number">7698</span>, <span class="string">&#x27;1991-12-3&#x27;</span>,<span class="number">950.00</span>,<span class="keyword">NULL</span>,<span class="number">30</span>),  </span><br><span class="line">(<span class="number">7902</span>, <span class="string">&#x27;FORD&#x27;</span>, <span class="string">&#x27;ANALYST&#x27;</span>,<span class="number">7566</span>,<span class="string">&#x27;1991-12-3&#x27;</span>,<span class="number">3000.00</span>, <span class="keyword">NULL</span>,<span class="number">20</span>),  </span><br><span class="line">(<span class="number">7934</span>,<span class="string">&#x27;MILLER&#x27;</span>,<span class="string">&#x27;CLERK&#x27;</span>,<span class="number">7782</span>,<span class="string">&#x27;1992-1-23&#x27;</span>, <span class="number">1300.00</span>, <span class="keyword">NULL</span>,<span class="number">10</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#工资级别表</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> salgrade</span><br><span class="line">(</span><br><span class="line">grade MEDIUMINT UNSIGNED <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="number">0</span>,</span><br><span class="line">losal <span class="type">DECIMAL</span>(<span class="number">17</span>,<span class="number">2</span>)  <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">hisal <span class="type">DECIMAL</span>(<span class="number">17</span>,<span class="number">2</span>)  <span class="keyword">NOT</span> <span class="keyword">NULL</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> salgrade <span class="keyword">VALUES</span> (<span class="number">1</span>,<span class="number">700</span>,<span class="number">1200</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> salgrade <span class="keyword">VALUES</span> (<span class="number">2</span>,<span class="number">1201</span>,<span class="number">1400</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> salgrade <span class="keyword">VALUES</span> (<span class="number">3</span>,<span class="number">1401</span>,<span class="number">2000</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> salgrade <span class="keyword">VALUES</span> (<span class="number">4</span>,<span class="number">2001</span>,<span class="number">3000</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> salgrade <span class="keyword">VALUES</span> (<span class="number">5</span>,<span class="number">3001</span>,<span class="number">9999</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> salgrade</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">#演示<span class="keyword">group</span> <span class="keyword">by</span> <span class="operator">+</span> <span class="keyword">having</span></span><br><span class="line">#<span class="keyword">group</span> <span class="keyword">by</span>用于对查询的结果分组统计，（示意图）</span><br><span class="line">#<span class="keyword">having</span>子句用于限制分组显示结果</span><br><span class="line"></span><br><span class="line">#如何实现每个部门的平均工资和最高工资</span><br><span class="line">#按照部分来分组查询</span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">AVG</span>(sal), <span class="built_in">MAX</span>(sal),deptno</span><br><span class="line">	<span class="keyword">FROM</span> emp <span class="keyword">GROUP</span> <span class="keyword">BY</span> deptno</span><br><span class="line">	</span><br><span class="line">#显示每个部门的每种岗位的平均工资和最低工资</span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">AVG</span>(sal), <span class="built_in">MIN</span>(sal),deptno ,job</span><br><span class="line">	<span class="keyword">FROM</span> emp <span class="keyword">GROUP</span> <span class="keyword">BY</span> deptno,job</span><br><span class="line">	</span><br><span class="line">#显示平均工资低于<span class="number">2000</span>的部门号和它的平均工资</span><br><span class="line">#老师分析【写<span class="keyword">sql</span>语句的思路就是化繁为简，各个击破】</span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">AVG</span>(sal) <span class="keyword">AS</span> avgsal,deptno</span><br><span class="line">	<span class="keyword">FROM</span> emp <span class="keyword">GROUP</span> <span class="keyword">BY</span> deptno <span class="keyword">HAVING</span> avgsal <span class="operator">&lt;</span> <span class="number">2000</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5 id="字符串相关函数"><a href="#字符串相关函数" class="headerlink" title="字符串相关函数"></a>字符串相关函数</h5><p><img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220313230238844.png" alt="image-20220313230238844"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">#演示字符串相关函数的使用，使用emp表来演示</span><br><span class="line"></span><br><span class="line">#charset(str) 返回字串字符集</span><br><span class="line"><span class="keyword">SELECT</span> CHARSET(ename) <span class="keyword">FROM</span> emp</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#CONTACT (string2 [,...]) 连接字串，将多个列拼接成一列</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> CONCAT(ename,<span class="string">&#x27; 工作是 &#x27;</span>,job) <span class="keyword">FROM</span> emp</span><br><span class="line"></span><br><span class="line">#INSTR (string，substring) 返回 substring 在 string中出现的位置，没有返回<span class="number">0</span></span><br><span class="line">#dual 亚元表，系统表 可以作为测试表使用</span><br><span class="line"><span class="keyword">SELECT</span> INSTR(<span class="string">&#x27;hanshunping&#x27;</span>,<span class="string">&#x27;ping&#x27;</span>) <span class="keyword">FROM</span> DUAL</span><br><span class="line"></span><br><span class="line">#UCASE (string2) 转换成大写</span><br><span class="line"><span class="keyword">SELECT</span> UCASE(ename) <span class="keyword">FROM</span> emp</span><br><span class="line"></span><br><span class="line">#LCASE (string2) 转换成小写</span><br><span class="line"><span class="keyword">SELECT</span> LCASE(ename) <span class="keyword">FROM</span> emp</span><br><span class="line"></span><br><span class="line">#<span class="keyword">LEFT</span><span class="operator">/</span><span class="keyword">RIGHT</span> (string2,length) 从string2中的左<span class="operator">/</span>右边起取length个字符</span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">RIGHT</span>(ename,<span class="number">2</span>) <span class="keyword">FROM</span> emp</span><br><span class="line"></span><br><span class="line">#LENGTH (string) string长度【按照字节】</span><br><span class="line"><span class="keyword">SELECT</span> LENGTH(ename) <span class="keyword">FROM</span> emp</span><br><span class="line"></span><br><span class="line">#REPLACE (str,search_str,replace_str)</span><br><span class="line">#在str中用replace_str替换search_str</span><br><span class="line"><span class="keyword">SELECT</span> ename,REPLACE(job,<span class="string">&#x27;MANAGER&#x27;</span>,<span class="string">&#x27;经理&#x27;</span>) <span class="keyword">FROM</span> emp</span><br><span class="line"></span><br><span class="line">#STRCMP (string1,sting2) 逐字符比较两字符串大小</span><br><span class="line"><span class="keyword">SELECT</span> STRCMP(<span class="string">&#x27;hsp&#x27;</span>,<span class="string">&#x27;hsp&#x27;</span>) <span class="keyword">FROM</span> DUAL</span><br><span class="line"></span><br><span class="line">#<span class="built_in">SUBSTRING</span> (str,position [,length])</span><br><span class="line">#从str的position开始【从<span class="number">1</span>开始计算】，取length个字符</span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">SUBSTRING</span>(ename,<span class="number">1</span>,<span class="number">2</span>) <span class="keyword">FROM</span> emp</span><br><span class="line"></span><br><span class="line">#去左空格LTRIM (string2) 去右空格RTRIM (string2) 去两端空格<span class="built_in">TRIM</span>(string)</span><br><span class="line"><span class="keyword">SELECT</span> LTRIM(<span class="string">&#x27;    NICONICO    &#x27;</span>) <span class="keyword">FROM</span> DUAL;</span><br><span class="line"><span class="keyword">SELECT</span> RTRIM(<span class="string">&#x27;    NICONICO    &#x27;</span>) <span class="keyword">FROM</span> DUAL;</span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">TRIM</span>(<span class="string">&#x27;    NICONICO    &#x27;</span>) <span class="keyword">FROM</span> DUAL;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220313233907088.png" alt="image-20220313233907088"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#练习：以首字母小写的方式显示所有员工emp表的姓名</span><br><span class="line"><span class="keyword">SELECT</span> CONCAT (LCASE(<span class="keyword">LEFT</span>(ename,<span class="number">1</span>)),<span class="string">&#x27;&#x27;</span>,<span class="built_in">SUBSTRING</span>(ename,<span class="number">2</span>)) <span class="keyword">FROM</span> emp</span><br></pre></td></tr></table></figure>

<h5 id="数学相关函数"><a href="#数学相关函数" class="headerlink" title="数学相关函数"></a>数学相关函数</h5><p><img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220313234323095.png" alt="image-20220313234323095"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">#演示数学相关函数</span><br><span class="line"></span><br><span class="line">#<span class="built_in">ABS</span>(num) 绝对值</span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">ABS</span>(<span class="number">-10</span>) <span class="keyword">FROM</span> DUAL</span><br><span class="line"></span><br><span class="line">#BIN(decimal_number)十进制转二进制</span><br><span class="line"><span class="keyword">SELECT</span> BIN(<span class="number">10</span>) <span class="keyword">FROM</span> DUAL;</span><br><span class="line"></span><br><span class="line">#<span class="built_in">CEILING</span>(number2 )向上取整，得到比num2 大的最小整数</span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">CEILING</span>(<span class="number">-1.1</span>) <span class="keyword">FROM</span> DUAL</span><br><span class="line"></span><br><span class="line">#CONV(number2,from_base,to_base)   进制转换</span><br><span class="line">#下面的含义是 <span class="number">8</span>是十进制下的<span class="number">8</span>，转成二进制输出</span><br><span class="line"><span class="keyword">SELECT</span> CONV(<span class="number">8</span>,<span class="number">10</span>,<span class="number">2</span>) <span class="keyword">FROM</span> DUAL</span><br><span class="line"></span><br><span class="line">#<span class="built_in">FLOOR</span> (number2)      向下取整，得到比num2小的最大整数</span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">FLOOR</span>(<span class="number">-1.1</span>) <span class="keyword">FROM</span> DUAL</span><br><span class="line"></span><br><span class="line">#FLMAT (number,decimal_places)    保留小数位数（四舍五入）</span><br><span class="line"><span class="keyword">SELECT</span> FORMAT(<span class="number">78.125458</span>,<span class="number">2</span>) <span class="keyword">FROM</span> DUAL</span><br><span class="line"></span><br><span class="line">#HEX (DecimalNumber)转成十六进制</span><br><span class="line"><span class="keyword">SELECT</span> HEX(<span class="number">78</span>) <span class="keyword">FROM</span> DUAL</span><br><span class="line"></span><br><span class="line">#LEAST (number, number2 [,..])   求最小值</span><br><span class="line"><span class="keyword">SELECT</span> LEAST(<span class="number">0</span>,<span class="number">1</span>,<span class="number">-10</span>,<span class="number">4</span>) <span class="keyword">FROM</span> DUAL</span><br><span class="line"></span><br><span class="line">#<span class="built_in">MOD</span>(numerator,denominator)    求余</span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">MOD</span>(<span class="number">10</span>,<span class="number">3</span>) <span class="keyword">FROM</span> DUAL</span><br><span class="line"></span><br><span class="line">#RAND([seed]) RAND ([seed]) 返回随机数 其范围为 <span class="number">0</span> <span class="operator">&lt;</span> v <span class="operator">&lt;=</span> <span class="number">1.0</span></span><br><span class="line">#若希望随机数固定，可以给出seed值，否则不填即可</span><br><span class="line"><span class="keyword">SELECT</span> RAND(<span class="number">3</span>) <span class="keyword">FROM</span> DUAL</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5 id="日期相关函数"><a href="#日期相关函数" class="headerlink" title="日期相关函数"></a>日期相关函数</h5><p><img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220314221225433.png" alt="image-20220314221225433"></p>
<p><img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220314221427615.png" alt="image-20220314221427615"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">#日期时间相关函数</span><br><span class="line"></span><br><span class="line">#<span class="built_in">CURRENT_DATE</span>( ) 当前日期</span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">CURRENT_DATE</span>() <span class="keyword">FROM</span> DUAL</span><br><span class="line"></span><br><span class="line">#<span class="built_in">CURRENT_TIME</span>( ) 当前时间</span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">CURRENT_TIME</span>() <span class="keyword">FROM</span> DUAL</span><br><span class="line"></span><br><span class="line">#<span class="built_in">CURRENT_TIMESTAMP</span>( ) 当前时间戳</span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">CURRENT_TIMESTAMP</span>() <span class="keyword">FROM</span> DUAL</span><br><span class="line"></span><br><span class="line">#创建测试表 信息表</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> mes(</span><br><span class="line">	id <span class="type">INT</span>,</span><br><span class="line">	content <span class="type">VARCHAR</span>(<span class="number">30</span>),</span><br><span class="line">	send_time DATETIME)</span><br><span class="line">	</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> mes</span><br><span class="line">	<span class="keyword">VALUES</span>(<span class="number">1</span>,<span class="string">&#x27;北京新闻&#x27;</span>, <span class="built_in">CURRENT_TIMESTAMP</span>())</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> mes</span><br></pre></td></tr></table></figure>

<p><img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220314222102780.png" alt="image-20220314222102780"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">#应用实例</span><br><span class="line">#显示所有新闻信息，发布日期只显示 日期，不用显示时间</span><br><span class="line"><span class="keyword">SELECT</span> id,content,<span class="type">DATE</span>(send_time) <span class="keyword">FROM</span> mes</span><br><span class="line"></span><br><span class="line">#请查询在<span class="number">10</span>分钟内发布的新闻</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> mes <span class="keyword">WHERE</span> DATE_ADD(send_time, <span class="type">INTERVAL</span> <span class="number">30</span> <span class="keyword">MINUTE</span>) <span class="operator">&gt;=</span> NOW()</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> mes <span class="keyword">WHERE</span> send_time <span class="operator">&gt;=</span> DATE_SUB(NOW(),<span class="type">INTERVAL</span> <span class="number">10</span> <span class="keyword">MINUTE</span>)</span><br><span class="line"></span><br><span class="line">#请在mysql的<span class="keyword">sql</span>语句中求出 <span class="number">2011</span><span class="number">-11</span><span class="number">-11</span> 和 <span class="number">1990</span><span class="number">-1</span><span class="number">-1</span> 相差多少天</span><br><span class="line"><span class="keyword">SELECT</span> DATEDIFF(<span class="string">&#x27;2011-11-11&#x27;</span>,<span class="string">&#x27;1990-01-01&#x27;</span>) <span class="keyword">FROM</span> DUAL</span><br><span class="line"></span><br><span class="line">#请用mysql求出你活了多少天 </span><br><span class="line"><span class="keyword">SELECT</span> DATEDIFF(NOW(),<span class="string">&#x27;2003-04-23&#x27;</span>) <span class="keyword">FROM</span> DUAL</span><br><span class="line"></span><br><span class="line">#如果你能活<span class="number">80</span>岁，求出你还能活多少天 </span><br><span class="line"><span class="keyword">SELECT</span> DATEDIFF(DATE_ADD(<span class="string">&#x27;2003-04-23&#x27;</span>,<span class="type">INTERVAL</span> <span class="number">80</span> <span class="keyword">YEAR</span>),NOW()) <span class="keyword">FROM</span> DUAL</span><br></pre></td></tr></table></figure>

<p><img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220314225357502.png" alt="image-20220314225357502"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">#<span class="keyword">YEAR</span><span class="operator">|</span><span class="keyword">MONTH</span><span class="operator">|</span><span class="keyword">DAY</span> <span class="type">DATE</span> (datetime)</span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">YEAR</span>(NOW()) <span class="keyword">FROM</span> DUAL</span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">MONTH</span>(NOW()) <span class="keyword">FROM</span> DUAL</span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">DAY</span>(NOW()) <span class="keyword">FROM</span> DUAL</span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">YEAR</span>(NOW()) <span class="keyword">FROM</span> DUAL</span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">MONTH</span>(NOW()) <span class="keyword">FROM</span> DUAL</span><br><span class="line"></span><br><span class="line">#UNIX_TIMESTAMP(): 返回的是<span class="number">1970</span><span class="number">-1</span><span class="number">-1</span> 到现在的秒数</span><br><span class="line"><span class="keyword">SELECT</span> UNIX_TIMESTAMP() <span class="keyword">FROM</span> DUAL</span><br><span class="line"></span><br><span class="line">#FROM_UNIXTIME(): 可以把一个UNIX_TIMESTAMP() 秒数，转成指定格式的日期</span><br><span class="line">#意义：在开发中，可以存放一个整数，然后表示时间，通过FROM_UNIXTIME()转换</span><br><span class="line"><span class="keyword">SELECT</span> FROM_UNIXTIME(<span class="number">1618483484</span>,<span class="string">&#x27;%Y-%m-%d %H:%i:%s&#x27;</span>) <span class="keyword">FROM</span> DUAL</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220314230916352.png" alt="image-20220314230916352"></p>
<h5 id="加密函数"><a href="#加密函数" class="headerlink" title="加密函数"></a>加密函数</h5><p><img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220314233840498.png" alt="image-20220314233840498"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">#演示加密函数和系统函数</span><br><span class="line"></span><br><span class="line">#<span class="keyword">USER</span>()    查询用户</span><br><span class="line">#可以查看登录到mysql的有哪些用户，以及登陆的IP</span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">USER</span>() <span class="keyword">FROM</span> DUAL</span><br><span class="line"></span><br><span class="line">#DATABASE()    查询当前使用数据库名称</span><br><span class="line"><span class="keyword">SELECT</span> DATABASE();</span><br><span class="line"></span><br><span class="line">#MD5(str)   为字符串算出一个 MD5 <span class="number">32</span>的字符串，常用（用户密码）加密</span><br><span class="line">#root 密码 hsp <span class="operator">-</span><span class="operator">&gt;</span> 加密md5 <span class="operator">-</span><span class="operator">&gt;</span> 在数据库中存放的是加密后的密码</span><br><span class="line"><span class="keyword">SELECT</span> MD5(<span class="string">&#x27;hsp&#x27;</span>) <span class="keyword">FROM</span> DUAL</span><br><span class="line"></span><br><span class="line">#演示用户表，存放密码时，是md5</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> hsp_user</span><br><span class="line">	(id <span class="type">INT</span>,</span><br><span class="line">	`name` <span class="type">VARCHAR</span>(<span class="number">32</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">	pwd <span class="type">CHAR</span>(<span class="number">32</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="string">&#x27;&#x27;</span> );</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> hsp_user</span><br><span class="line">	<span class="keyword">VALUES</span>(<span class="number">100</span>,<span class="string">&#x27;韩顺平&#x27;</span>,MD5(<span class="string">&#x27;hsp&#x27;</span>))</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> hsp_user</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> hsp_user <span class="keyword">WHERE</span> `name`<span class="operator">=</span><span class="string">&#x27;韩顺平&#x27;</span> <span class="keyword">AND</span> pwd <span class="operator">=</span> MD5(<span class="string">&#x27;hsp&#x27;</span>)#<span class="keyword">sql</span>注入问题</span><br><span class="line"></span><br><span class="line">#PASSWORD(str) 加密函数，mysql数据库的用户密码就是 PASSWORD(str) 加密函数</span><br><span class="line"><span class="keyword">SELECT</span> PASSWORD(<span class="string">&#x27;hsp&#x27;</span>) <span class="keyword">FROM</span> DUAL</span><br></pre></td></tr></table></figure>

<p><img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220314233825299.png" alt="image-20220314233825299"></p>
<h5 id="流程控制函数"><a href="#流程控制函数" class="headerlink" title="流程控制函数"></a>流程控制函数</h5><p><img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220315160707553.png" alt="image-20220315160707553"></p>
<p><img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220315160734828.png" alt="image-20220315160734828"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">#演示流程控制函数</span><br><span class="line"></span><br><span class="line">#IF(expr1,expr2,expr3) 如果expr1为<span class="literal">true</span>，则返回expr2 否则返回 expr3</span><br><span class="line"><span class="keyword">SELECT</span> IF(<span class="literal">TRUE</span>,<span class="string">&#x27;北京&#x27;</span>,<span class="string">&#x27;上海&#x27;</span>) <span class="keyword">FROM</span> DUAL</span><br><span class="line"></span><br><span class="line">#IFNULL(expr1,expr2)  如果expr1 不为空<span class="keyword">null</span>，则返回expr1，否则返回expr2</span><br><span class="line"><span class="keyword">SELECT</span> IFNULL(<span class="keyword">NULL</span>,<span class="string">&#x27;李林涛&#x27;</span>) <span class="keyword">FROM</span> DUAL</span><br><span class="line"></span><br><span class="line">#<span class="keyword">SELECT</span> <span class="keyword">CASE</span> <span class="keyword">WHEN</span> expr2 <span class="keyword">WHEN</span> expr3 <span class="keyword">THEN</span> expr4 <span class="keyword">ELSE</span> expr5 <span class="keyword">END</span>[类似多重分支]</span><br><span class="line">#如果expr1 为<span class="literal">TRUE</span>，则返回expr2，如果expr2 为ture，返回expr4，否则返回expr5</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">CASE</span> </span><br><span class="line">	<span class="keyword">WHEN</span> <span class="literal">TRUE</span> <span class="keyword">THEN</span> <span class="string">&#x27;jack&#x27;</span></span><br><span class="line">	<span class="keyword">WHEN</span> <span class="literal">FALSE</span> <span class="keyword">THEN</span> <span class="string">&#x27;tom&#x27;</span></span><br><span class="line">	<span class="keyword">ELSE</span> <span class="string">&#x27;mary&#x27;</span> <span class="keyword">END</span></span><br><span class="line"></span><br><span class="line">#查询emp表，如果 comm 是 <span class="keyword">null</span>，则显示<span class="number">0.0</span></span><br><span class="line">#判断是否为<span class="keyword">null</span> 要使用 <span class="keyword">is</span> <span class="keyword">null</span>，判断不为空 使用 <span class="keyword">is</span> <span class="keyword">not</span></span><br><span class="line"><span class="keyword">SELECT</span> ename, IF(comm <span class="keyword">IS</span> <span class="keyword">NULL</span>,<span class="number">0.0</span>,comm) <span class="keyword">FROM</span> emp</span><br><span class="line"><span class="keyword">SELECT</span> ename, IFNULL(comm,<span class="number">0.0</span>) <span class="keyword">FROM</span> emp</span><br><span class="line"></span><br><span class="line">#如果emp 表的 job 是 CLERK 则显示 职员，如果是 MANAGER 则显示经理</span><br><span class="line">#如果是 SALEMAN 则显示销售人员，其他正常显示</span><br><span class="line"><span class="keyword">SELECT</span> ename,(<span class="keyword">SELECT</span> <span class="keyword">CASE</span> </span><br><span class="line">	<span class="keyword">WHEN</span> job<span class="operator">=</span><span class="string">&#x27;CLERK&#x27;</span> <span class="keyword">THEN</span> <span class="string">&#x27;职员&#x27;</span></span><br><span class="line">	<span class="keyword">WHEN</span> job<span class="operator">=</span><span class="string">&#x27;MANAGER&#x27;</span> <span class="keyword">THEN</span> <span class="string">&#x27;经理&#x27;</span></span><br><span class="line">	<span class="keyword">WHEN</span> job<span class="operator">=</span><span class="string">&#x27;SALESMAN&#x27;</span> <span class="keyword">THEN</span> <span class="string">&#x27;销售人员&#x27;</span></span><br><span class="line">	<span class="keyword">ELSE</span> job <span class="keyword">END</span>) <span class="keyword">FROM</span> emp</span><br></pre></td></tr></table></figure>

<h4 id="查询加强"><a href="#查询加强" class="headerlink" title="查询加强"></a>查询加强</h4><p><img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220315164002376.png" alt="image-20220315164002376"></p>
<p><img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220315163948712.png" alt="image-20220315163948712"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">#查询增强</span><br><span class="line">#使用<span class="keyword">where</span>子句</span><br><span class="line">#如何查找<span class="number">1992.1</span><span class="number">.1</span>后入职的员工</span><br><span class="line">#在mysql中，日期类型可以直接比较，需要注意格式</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> emp <span class="keyword">WHERE</span> hiredate <span class="operator">&gt;</span> <span class="string">&#x27;1992-01-01&#x27;</span></span><br><span class="line"></span><br><span class="line">#如何使用<span class="keyword">like</span>操作符（模糊）</span><br><span class="line">#  <span class="operator">%</span>：表示<span class="number">0</span>到多个任意字符 ：表示单个任意字符</span><br><span class="line">#  ？如何显示首字母为s的员工姓名和工资</span><br><span class="line"><span class="keyword">SELECT</span> ename,sal <span class="keyword">FROM</span> emp <span class="keyword">WHERE</span> ename <span class="keyword">LIKE</span> <span class="string">&#x27;S%&#x27;</span></span><br><span class="line">#  ？如何显示第三个字符为大写o的所有员工姓名和工资</span><br><span class="line"><span class="keyword">SELECT</span> ename,sal <span class="keyword">FROM</span> emp <span class="keyword">WHERE</span> ename <span class="keyword">LIKE</span> <span class="string">&#x27;__O%&#x27;</span></span><br><span class="line">#如何显示没有上级的雇员的情况</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> emp</span><br><span class="line">#查询表的结构</span><br><span class="line"><span class="keyword">DESC</span> emp</span><br><span class="line"></span><br><span class="line">#使用<span class="keyword">order</span> <span class="keyword">by</span>子句</span><br><span class="line">#   如何按照工资的从低到高的顺序【升序】，显示雇员的信息</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> emp <span class="keyword">ORDER</span> <span class="keyword">BY</span> sal</span><br><span class="line">#   按照部门号升序而雇员的工资降序排列，显示雇员的信息</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> emp <span class="keyword">ORDER</span> <span class="keyword">BY</span> deptno <span class="keyword">ASC</span>,sal <span class="keyword">DESC</span></span><br></pre></td></tr></table></figure>

<h4 id="分页查询"><a href="#分页查询" class="headerlink" title="分页查询"></a>分页查询</h4><p><img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220315173911684.png" alt="image-20220315173911684"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">#分页查询</span><br><span class="line">#第一页</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> emp</span><br><span class="line">	<span class="keyword">ORDER</span> <span class="keyword">BY</span> empno</span><br><span class="line">	LIMIT <span class="number">0</span>,<span class="number">3</span></span><br><span class="line"></span><br><span class="line">#第二页	</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> emp</span><br><span class="line">	<span class="keyword">ORDER</span> <span class="keyword">BY</span> empno</span><br><span class="line">	LIMIT <span class="number">3</span>,<span class="number">3</span></span><br><span class="line"></span><br><span class="line">#第三页</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> emp</span><br><span class="line">	<span class="keyword">ORDER</span> <span class="keyword">BY</span> empno</span><br><span class="line">	LIMIT <span class="number">6</span>,<span class="number">3</span></span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> emp</span><br><span class="line">	<span class="keyword">ORDER</span> <span class="keyword">BY</span> empno</span><br><span class="line">	LIMIT <span class="number">10</span>,<span class="number">5</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> emp</span><br><span class="line">	<span class="keyword">ORDER</span> <span class="keyword">BY</span> empno</span><br><span class="line">	LIMIT <span class="number">20</span>,<span class="number">5</span></span><br></pre></td></tr></table></figure>

<h4 id="分组增强"><a href="#分组增强" class="headerlink" title="分组增强"></a>分组增强</h4><p><img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220315175120685.png" alt="image-20220315175120685"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">#增强<span class="keyword">group</span> <span class="keyword">by</span>的使用</span><br><span class="line">#显示每种岗位的雇员总数，平均工资</span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">COUNT</span>(<span class="operator">*</span>),<span class="built_in">AVG</span>(sal),job <span class="keyword">FROM</span> emp <span class="keyword">GROUP</span> <span class="keyword">BY</span> job</span><br><span class="line"></span><br><span class="line">#显示雇员总数，以及获得补助的雇员数</span><br><span class="line">#获得补助的雇员数 就是 comm 列为非<span class="keyword">null</span>，就是count（列），如果该列的值为<span class="keyword">null</span>，是不会统计进去的</span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">COUNT</span>(<span class="operator">*</span>),<span class="built_in">COUNT</span>(comm) <span class="keyword">FROM</span> emp</span><br><span class="line"></span><br><span class="line">#拓展要求，统计没有获得补助的雇员数</span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">COUNT</span>(<span class="operator">*</span>),<span class="built_in">COUNT</span>(IF(comm <span class="keyword">IS</span> <span class="keyword">NULL</span>,<span class="number">1</span>,<span class="keyword">NULL</span>)) <span class="keyword">FROM</span> emp</span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">COUNT</span>(<span class="operator">*</span>),<span class="built_in">COUNT</span>(<span class="operator">*</span>)<span class="operator">-</span><span class="built_in">COUNT</span>(comm) <span class="keyword">FROM</span> emp</span><br><span class="line"></span><br><span class="line">#显示管理者的总人数</span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">COUNT</span>(<span class="keyword">DISTINCT</span> mgr) <span class="keyword">FROM</span> emp</span><br><span class="line"></span><br><span class="line">#显示雇员工资的最大差额</span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">MAX</span>(sal)<span class="operator">-</span><span class="built_in">MIN</span>(sal) <span class="keyword">FROM</span> emp</span><br></pre></td></tr></table></figure>

<p><img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220316074936980.png" alt="image-20220316074936980"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> deptno, <span class="built_in">AVG</span>(sal) <span class="keyword">FROM</span> emp </span><br><span class="line">	<span class="keyword">GROUP</span> <span class="keyword">BY</span> deptno</span><br><span class="line">	<span class="keyword">HAVING</span> <span class="built_in">AVG</span>(sal) <span class="operator">&gt;</span> <span class="number">1000</span></span><br><span class="line">	<span class="keyword">ORDER</span> <span class="keyword">BY</span> <span class="built_in">AVG</span>(sal) <span class="keyword">DESC</span></span><br><span class="line">	LIMIT <span class="number">0</span>,<span class="number">2</span></span><br></pre></td></tr></table></figure>

<h3 id="多表查询"><a href="#多表查询" class="headerlink" title="多表查询"></a>多表查询</h3><p><img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220316080737357.png" alt="image-20220316080737357"></p>
<h4 id="多表笛卡尔集"><a href="#多表笛卡尔集" class="headerlink" title="多表笛卡尔集"></a>多表笛卡尔集</h4><p><img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220316081903214.png" alt="image-20220316081903214"></p>
<p><img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220316081851391.png" alt="image-20220316081851391"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> ename,sal,emp.deptno </span><br><span class="line">	<span class="keyword">FROM</span> emp,dept </span><br><span class="line">	<span class="keyword">WHERE</span> emp.deptno <span class="operator">=</span> dept.deptno</span><br></pre></td></tr></table></figure>



<p><img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220316083125231.png"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">#注意：多表查询的条件不能少于 表的个数<span class="number">-1</span>，否则会出现笛卡尔集</span><br><span class="line">#如何显示部门号为<span class="number">10</span>的部门名、员工名和工资</span><br><span class="line"><span class="keyword">SELECT</span> ename,sal,emp.deptno </span><br><span class="line">	<span class="keyword">FROM</span> emp,dept </span><br><span class="line">	<span class="keyword">WHERE</span> emp.deptno <span class="operator">=</span> dept.deptno <span class="keyword">AND</span> emp.deptno <span class="operator">=</span> <span class="number">10</span></span><br><span class="line"></span><br><span class="line">#显示各个员工的姓名，工资，及其工资的级别</span><br><span class="line"><span class="keyword">SELECT</span> ename,sal,grade </span><br><span class="line">	<span class="keyword">FROM</span> emp,salgrade</span><br><span class="line">	<span class="keyword">WHERE</span> sal <span class="keyword">BETWEEN</span> losal <span class="keyword">AND</span> hisal</span><br></pre></td></tr></table></figure>

<h4 id="自连接"><a href="#自连接" class="headerlink" title="自连接"></a>自连接</h4><p><img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220316084145844.png" alt="image-20220316084145844"></p>
<p><img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220316085033174.png" alt="image-20220316085033174"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">#显示公司员工和他的上级名字</span><br><span class="line">#分析：员工名和上级名都在emp</span><br><span class="line">#两者是通过emp的mgr列关联的</span><br><span class="line">#自连接的特点：<span class="number">1.</span>把同一张表当作两张表使用</span><br><span class="line">#		<span class="number">2.</span>需要给表取别名： 表名 表别名</span><br><span class="line">#		<span class="number">3.</span>列名不明确，可以指定列的别名 列名 <span class="keyword">as</span> 列的别名</span><br><span class="line"><span class="keyword">select</span> worker.ename <span class="keyword">as</span> <span class="string">&#x27;职工名&#x27;</span>,boss.ename <span class="keyword">as</span> <span class="string">&#x27;老板名&#x27;</span></span><br><span class="line">		<span class="keyword">from</span> emp worker,emp boss</span><br><span class="line">		<span class="keyword">where</span> worker.mgr <span class="operator">=</span> boss.empno</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="子查询"><a href="#子查询" class="headerlink" title="子查询"></a>子查询</h4><p><img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220316085133265.png" alt="image-20220316085133265"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">#单行子查询</span><br><span class="line">#如何显示与SMITH同一部门的所有员工</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> </span><br><span class="line">	<span class="keyword">FROM</span> emp</span><br><span class="line">	<span class="keyword">WHERE</span> deptno <span class="operator">=</span> (</span><br><span class="line">		<span class="keyword">SELECT</span> deptno</span><br><span class="line">		<span class="keyword">FROM</span> emp</span><br><span class="line">		<span class="keyword">WHERE</span> ename <span class="operator">=</span> <span class="string">&#x27;SMITH&#x27;</span></span><br><span class="line">		)</span><br><span class="line"></span><br><span class="line">#多行子查询</span><br><span class="line">#如何查询和部门<span class="number">10</span>的工作相同的雇员的</span><br><span class="line">#名字、岗位、工资、部门号，但是不含<span class="number">10</span>号部门自己的雇员</span><br><span class="line"><span class="keyword">SELECT</span> ename,job,sal,deptno </span><br><span class="line">	<span class="keyword">FROM</span> emp </span><br><span class="line">	<span class="keyword">WHERE</span> job <span class="keyword">IN</span> (</span><br><span class="line">		<span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span> job </span><br><span class="line">		<span class="keyword">FROM</span> emp</span><br><span class="line">		<span class="keyword">WHERE</span> deptno <span class="operator">=</span> <span class="number">10</span>)</span><br><span class="line">		<span class="keyword">AND</span> deptno <span class="operator">&lt;&gt;</span> <span class="number">10</span></span><br></pre></td></tr></table></figure>

<h5 id="子查询临时表"><a href="#子查询临时表" class="headerlink" title="子查询临时表"></a>子查询临时表</h5><p><img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220316100418129.png" alt="image-20220316100418129"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">#查询ecshop中各个类别中价格最高的商品</span><br><span class="line">#查询商品表</span><br><span class="line">#先得到 各个类别中，价格最高的商品 max <span class="operator">+</span> <span class="keyword">group</span> <span class="keyword">by</span> cat_id</span><br><span class="line">	</span><br><span class="line"><span class="keyword">SELECT</span> goods_id,ecs_goods.cat_id,goods_name,shop_price</span><br><span class="line">	<span class="keyword">FROM</span> (</span><br><span class="line">	<span class="keyword">SELECT</span> cat_id,<span class="built_in">MAX</span>(shop_price) <span class="keyword">AS</span> max_price</span><br><span class="line">	<span class="keyword">FROM</span> ecs_goods</span><br><span class="line">	<span class="keyword">GROUP</span> <span class="keyword">BY</span> cat_id</span><br><span class="line">	) temp,ecs_goods</span><br><span class="line">	<span class="keyword">WHERE</span> temp.cat_id <span class="operator">=</span> ecs_goods.cat_id</span><br><span class="line">	<span class="keyword">AND</span> temp.max_price <span class="operator">=</span> ecs_goods.shop_price</span><br></pre></td></tr></table></figure>

<h5 id="all和any"><a href="#all和any" class="headerlink" title="all和any"></a>all和any</h5><img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220316100703641.png" alt="image-20220316100703641" style="zoom:200%;" />

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">#<span class="keyword">all</span> 和 <span class="keyword">any</span>的使用</span><br><span class="line">#请思考：显示工资比部门<span class="number">30</span>的所有员工的工资高的员工的姓名，工资和部门号</span><br><span class="line"><span class="keyword">SELECT</span> ename,sal,deptno</span><br><span class="line">	<span class="keyword">FROM</span> emp</span><br><span class="line">	<span class="keyword">WHERE</span> sal <span class="operator">&gt;</span> <span class="keyword">ALL</span>(</span><br><span class="line">		<span class="keyword">SELECT</span> sal</span><br><span class="line">			<span class="keyword">FROM</span> emp</span><br><span class="line">			<span class="keyword">WHERE</span> deptno <span class="operator">=</span> <span class="number">30</span></span><br><span class="line">			)</span><br><span class="line"></span><br><span class="line">#也可以这样写</span><br><span class="line"><span class="keyword">SELECT</span> ename,sal,deptno</span><br><span class="line">	<span class="keyword">FROM</span> emp</span><br><span class="line">	<span class="keyword">WHERE</span> sal <span class="operator">&gt;</span> (</span><br><span class="line">		<span class="keyword">SELECT</span> 	<span class="built_in">MAX</span>(sal)</span><br><span class="line">			<span class="keyword">FROM</span> emp</span><br><span class="line">			<span class="keyword">WHERE</span> deptno <span class="operator">=</span> <span class="number">30</span></span><br><span class="line">			)</span><br><span class="line">			</span><br><span class="line">#请思考：显示工资比部门<span class="number">30</span>的任一员工的工资高的员工的姓名，工资和部门号</span><br><span class="line"><span class="keyword">SELECT</span> ename,sal,deptno</span><br><span class="line">	<span class="keyword">FROM</span> emp</span><br><span class="line">	<span class="keyword">WHERE</span> sal <span class="operator">&gt;</span> <span class="keyword">ANY</span>(</span><br><span class="line">		<span class="keyword">SELECT</span> sal</span><br><span class="line">			<span class="keyword">FROM</span> emp</span><br><span class="line">			<span class="keyword">WHERE</span> deptno <span class="operator">=</span> <span class="number">30</span></span><br><span class="line">			)</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> ename,sal,deptno</span><br><span class="line">	<span class="keyword">FROM</span> emp</span><br><span class="line">	<span class="keyword">WHERE</span> sal <span class="operator">&gt;</span> (</span><br><span class="line">		<span class="keyword">SELECT</span> <span class="built_in">MIN</span>(sal)</span><br><span class="line">			<span class="keyword">FROM</span> emp</span><br><span class="line">			<span class="keyword">WHERE</span> deptno <span class="operator">=</span> <span class="number">30</span></span><br><span class="line">			)</span><br></pre></td></tr></table></figure>

<h5 id="多列子查询"><a href="#多列子查询" class="headerlink" title="多列子查询"></a>多列子查询</h5><img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220316223814534.png" alt="image-20220316223814534" style="zoom:200%;" />

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">#多列子查询</span><br><span class="line">#请思考如何查询与allen的部门和岗位完全相同的多有雇员（并且不含allen本人）</span><br><span class="line">#（字段<span class="number">1</span>，字段<span class="number">2</span>。。） <span class="operator">=</span> （<span class="keyword">select</span> 字段一，字段二 <span class="keyword">from</span>。。）</span><br><span class="line"></span><br><span class="line">#</span><br><span class="line"><span class="keyword">SELECT</span> deptno,job</span><br><span class="line">	<span class="keyword">FROM</span> emp</span><br><span class="line">	<span class="keyword">WHERE</span> ename <span class="operator">=</span> <span class="string">&#x27;ALLEN&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span></span><br><span class="line">	<span class="keyword">FROM</span> emp</span><br><span class="line">	<span class="keyword">WHERE</span>(deptno,job) <span class="operator">=</span> (</span><br><span class="line">		<span class="keyword">SELECT</span> deptno,job</span><br><span class="line">		<span class="keyword">FROM</span> emp</span><br><span class="line">		<span class="keyword">WHERE</span> ename <span class="operator">=</span> <span class="string">&#x27;ALLEN&#x27;</span></span><br><span class="line">		)<span class="keyword">AND</span> ename <span class="operator">!=</span> <span class="string">&#x27;ALLEN&#x27;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span></span><br><span class="line">	<span class="keyword">FROM</span> `student`</span><br><span class="line">	<span class="keyword">WHERE</span>(chinese,english,math) <span class="operator">=</span> (</span><br><span class="line">		<span class="keyword">SELECT</span> chinese,english,math</span><br><span class="line">		<span class="keyword">FROM</span> student</span><br><span class="line">		<span class="keyword">WHERE</span> `name` <span class="operator">=</span> <span class="string">&#x27;宋江&#x27;</span></span><br><span class="line">		)</span><br></pre></td></tr></table></figure>

<h5 id="练习"><a href="#练习" class="headerlink" title="练习"></a>练习</h5><img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220316225605544.png" alt="image-20220316225605544" style="zoom:200%;" />

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">#查找每个部门工资高于本部门平均工资的人的资料</span><br><span class="line"><span class="keyword">SELECT</span> deptno,<span class="built_in">AVG</span>(sal)</span><br><span class="line">	<span class="keyword">FROM</span> emp</span><br><span class="line">	<span class="keyword">GROUP</span> <span class="keyword">BY</span> deptno</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> ename,sal,temp.avgsal </span><br><span class="line">	<span class="keyword">FROM</span> (</span><br><span class="line">	<span class="keyword">SELECT</span> deptno,<span class="built_in">AVG</span>(sal)<span class="keyword">AS</span> avgsal</span><br><span class="line">	<span class="keyword">FROM</span> emp</span><br><span class="line">	<span class="keyword">GROUP</span> <span class="keyword">BY</span> deptno</span><br><span class="line">	)temp,emp</span><br><span class="line">	<span class="keyword">WHERE</span> temp.deptno <span class="operator">=</span> emp.deptno</span><br><span class="line">	<span class="keyword">AND</span> emp.sal <span class="operator">&gt;</span> avgsal</span><br></pre></td></tr></table></figure>

<img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220316230055004.png" alt="image-20220316230055004" style="zoom:200%;" />

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">#查找每个部门工资最高的人的详细资料</span><br><span class="line"><span class="keyword">select</span> ename,sal,maxsal </span><br><span class="line">	<span class="keyword">from</span> (</span><br><span class="line">	<span class="keyword">SELECT</span> deptno,<span class="built_in">max</span>(sal)<span class="keyword">as</span> maxsal</span><br><span class="line">	<span class="keyword">FROM</span> emp</span><br><span class="line">	<span class="keyword">GROUP</span> <span class="keyword">BY</span> deptno</span><br><span class="line">	)temp,emp</span><br><span class="line">	<span class="keyword">where</span> temp.deptno <span class="operator">=</span> emp.deptno</span><br><span class="line">	<span class="keyword">and</span> emp.sal <span class="operator">=</span> maxsal</span><br></pre></td></tr></table></figure>

<img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220316232946529.png" alt="image-20220316232946529" style="zoom:200%;" />

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">#显示每个部门的信息</span><br><span class="line"><span class="keyword">SELECT</span> dept.deptno,dname,loc,countnum</span><br><span class="line">	<span class="keyword">FROM</span> dept,(</span><br><span class="line">	<span class="keyword">SELECT</span> emp.deptno,<span class="built_in">COUNT</span>(<span class="operator">*</span>) <span class="keyword">AS</span> countnum</span><br><span class="line">	<span class="keyword">FROM</span> emp</span><br><span class="line">	<span class="keyword">GROUP</span> <span class="keyword">BY</span> deptno</span><br><span class="line">	)temp</span><br><span class="line">	<span class="keyword">WHERE</span> temp.deptno <span class="operator">=</span> dept.deptno</span><br><span class="line">	</span><br><span class="line">#还有一种写法 表.<span class="operator">*</span>表示将该表所有列都显示出来</span><br><span class="line"><span class="keyword">SELECT</span> temp.<span class="operator">*</span>,dname,loc</span><br><span class="line">	<span class="keyword">FROM</span> dept,(</span><br><span class="line">	<span class="keyword">SELECT</span> emp.deptno,<span class="built_in">COUNT</span>(<span class="operator">*</span>) <span class="keyword">AS</span> countnum</span><br><span class="line">	<span class="keyword">FROM</span> emp</span><br><span class="line">	<span class="keyword">GROUP</span> <span class="keyword">BY</span> deptno</span><br><span class="line">	)temp</span><br><span class="line">	<span class="keyword">WHERE</span> temp.deptno <span class="operator">=</span> dept.deptno</span><br></pre></td></tr></table></figure>

<h4 id="表复制"><a href="#表复制" class="headerlink" title="表复制"></a>表复制</h4><p><img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220317141052172.png" alt="image-20220317141052172"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">#表的复制</span><br><span class="line">#为了对某个<span class="keyword">sql</span>语句进行效率测试，我们需要海量数据时，可以使用此法为表创建海量数据</span><br><span class="line"></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> my_tab01</span><br><span class="line">	(id <span class="type">int</span>,</span><br><span class="line">	`name`<span class="type">varchar</span>(<span class="number">32</span>),</span><br><span class="line">	sal <span class="keyword">double</span>,</span><br><span class="line">	job <span class="type">varchar</span>(<span class="number">32</span>),</span><br><span class="line">	deptno <span class="type">int</span>);</span><br><span class="line"><span class="keyword">desc</span> my_tab01</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span><span class="keyword">from</span> my_tab01</span><br><span class="line"></span><br><span class="line">#演示如何自我复制</span><br><span class="line">#<span class="number">1.</span>先把emp 表的记录复制到 my_tab01</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> my_tab01</span><br><span class="line">	(id,`name`,sal,job,deptno)</span><br><span class="line">	<span class="keyword">select</span> empno,ename,sal,job,deptno <span class="keyword">from</span> emp</span><br><span class="line">#自我复制</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> my_tab01</span><br><span class="line">	<span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> my_tab01</span><br><span class="line"><span class="keyword">select</span> <span class="built_in">count</span>(<span class="operator">*</span>) <span class="keyword">from</span> my_tab01</span><br></pre></td></tr></table></figure>

<p>面试题：考虑如何去重</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">#如何删除掉一张表重复记录</span><br><span class="line">#<span class="number">1.</span>先创建一张表 my_tab02</span><br><span class="line">#<span class="number">2.</span>让 my_tab02 有重复的记录</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> my_tab02 <span class="keyword">like</span> emp #这个语句 把emp表的结构复制过来</span><br><span class="line"><span class="keyword">desc</span> my_tab02</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> my_tab02</span><br><span class="line">	<span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> my_tab02</span><br><span class="line"></span><br><span class="line">#考虑去重</span><br><span class="line">#<span class="number">1.</span>先创建一张临时表 my_tmp,该表的结构和 my_tab02一样</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> my_tmp <span class="keyword">like</span> my_tab02</span><br><span class="line">#<span class="number">2.</span>把my_tmp的记录 通过 <span class="keyword">distinct</span> 关键字处理后 把记录复制到 my_tmp</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> my_tmp</span><br><span class="line">	<span class="keyword">select</span> <span class="keyword">distinct</span> <span class="operator">*</span> <span class="keyword">from</span> my_tab02</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> my_tmp</span><br><span class="line">#<span class="number">3.</span>清除掉my_tab02 记录</span><br><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> my_tab02</span><br><span class="line">#<span class="number">4.</span>把 my_tmp 表的记录复制到 my_tab02</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> my_tab02</span><br><span class="line">	<span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> my_tmp</span><br><span class="line">#<span class="number">5.</span><span class="keyword">drop</span>掉 临时表 my_tmp</span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> my_tmp</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> my_tab02</span><br></pre></td></tr></table></figure>

<h4 id="合并查询"><a href="#合并查询" class="headerlink" title="合并查询"></a>合并查询</h4><img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220317144801725.png" alt="image-20220317144801725" style="zoom:200%;" />

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">#合并查询</span><br><span class="line"><span class="keyword">SELECT</span> ename,sal,job <span class="keyword">FROM</span> emp <span class="keyword">WHERE</span> sal <span class="operator">&gt;</span> <span class="number">2500</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> ename,sal,job <span class="keyword">FROM</span> emp <span class="keyword">WHERE</span> job <span class="operator">=</span> <span class="string">&#x27;MANAGER&#x27;</span></span><br><span class="line"></span><br><span class="line">#<span class="keyword">UNION</span> <span class="keyword">ALL</span> 就是将两个查询结果合并，不会去重</span><br><span class="line"><span class="keyword">SELECT</span> ename,sal,job <span class="keyword">FROM</span> emp <span class="keyword">WHERE</span> sal <span class="operator">&gt;</span> <span class="number">2500</span></span><br><span class="line"><span class="keyword">UNION</span> <span class="keyword">ALL</span></span><br><span class="line"><span class="keyword">SELECT</span> ename,sal,job <span class="keyword">FROM</span> emp <span class="keyword">WHERE</span> job <span class="operator">=</span> <span class="string">&#x27;MANAGER&#x27;</span></span><br><span class="line"></span><br><span class="line">#<span class="keyword">UNION</span> 就是将两个查询结果合并，会去重</span><br><span class="line"><span class="keyword">SELECT</span> ename,sal,job <span class="keyword">FROM</span> emp <span class="keyword">WHERE</span> sal <span class="operator">&gt;</span> <span class="number">2500</span></span><br><span class="line"><span class="keyword">UNION</span></span><br><span class="line"><span class="keyword">SELECT</span> ename,sal,job <span class="keyword">FROM</span> emp <span class="keyword">WHERE</span> job <span class="operator">=</span> <span class="string">&#x27;MANAGER&#x27;</span></span><br></pre></td></tr></table></figure>

<h3 id="外连接"><a href="#外连接" class="headerlink" title="外连接"></a>外连接</h3><img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220317150154539.png" alt="image-20220317150154539" style="zoom:200%;" />

<h4 id="左外联右外联"><a href="#左外联右外联" class="headerlink" title="左外联右外联"></a>左外联右外联</h4><img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220317151902395.png" alt="image-20220317151902395" style="zoom:200%;" />

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> stu (</span><br><span class="line">	id <span class="type">int</span>,</span><br><span class="line">	`name` <span class="type">varchar</span>(<span class="number">32</span>))</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> stu <span class="keyword">values</span>(<span class="number">1</span>,<span class="string">&#x27;jack&#x27;</span>),(<span class="number">2</span>,<span class="string">&#x27;tom&#x27;</span>),(<span class="number">3</span>,<span class="string">&#x27;kity&#x27;</span>),(<span class="number">4</span>,<span class="string">&#x27;nono&#x27;</span>)</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> stu</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> exam (</span><br><span class="line">	id <span class="type">INT</span>,</span><br><span class="line">	grade <span class="type">int</span>)</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> exam <span class="keyword">VALUES</span>(<span class="number">1</span>,<span class="number">56</span>),(<span class="number">2</span>,<span class="number">76</span>),(<span class="number">11</span>,<span class="number">8</span>)</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> exam</span><br><span class="line"></span><br><span class="line">#使用左连接</span><br><span class="line">#（显示所有人的成绩，如果没有成绩，也要显示该人的姓名和id号，成绩显示为空）</span><br><span class="line"></span><br><span class="line">#不使用外连接</span><br><span class="line"><span class="keyword">SELECT</span> `name`,stu.id,grade</span><br><span class="line">	<span class="keyword">FROM</span> stu ,exam</span><br><span class="line">	<span class="keyword">WHERE</span> stu.id <span class="operator">=</span> exam.id</span><br><span class="line">	</span><br><span class="line">#使用左连接</span><br><span class="line"><span class="keyword">select</span> `name`,stu.id,grade</span><br><span class="line">	<span class="keyword">from</span> stu <span class="keyword">left</span> <span class="keyword">join</span> exam</span><br><span class="line">	<span class="keyword">on</span> stu.id <span class="operator">=</span> exam.id</span><br><span class="line"></span><br><span class="line">#使用右连接</span><br><span class="line">#（显示所有人的成绩，如果没有名字匹配，显示空）</span><br><span class="line"><span class="keyword">SELECT</span> `name`,stu.id,grade</span><br><span class="line">	<span class="keyword">FROM</span> stu <span class="keyword">right</span> <span class="keyword">JOIN</span> exam</span><br><span class="line">	<span class="keyword">ON</span> stu.id <span class="operator">=</span> exam.id</span><br></pre></td></tr></table></figure>

<img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220317151921854.png" alt="image-20220317151921854" style="zoom:200%;" />

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> dept.deptno,ename,job</span><br><span class="line">	<span class="keyword">FROM</span> emp <span class="keyword">RIGHT</span> <span class="keyword">JOIN</span> dept</span><br><span class="line">	<span class="keyword">ON</span> dept.deptno <span class="operator">=</span> emp.deptno</span><br><span class="line">	</span><br><span class="line"><span class="keyword">SELECT</span> dept.deptno,ename,job</span><br><span class="line">	<span class="keyword">FROM</span> dept <span class="keyword">LEFT</span> <span class="keyword">JOIN</span> emp</span><br><span class="line">	<span class="keyword">ON</span> dept.deptno <span class="operator">=</span> emp.deptno</span><br></pre></td></tr></table></figure>

<p>左外连接和右外连接本质上是一样的</p>
<img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220317161545599.png" alt="image-20220317161545599" style="zoom:200%;" />

<h3 id="MySQL约束"><a href="#MySQL约束" class="headerlink" title="MySQL约束"></a>MySQL约束</h3><img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220317161741555.png" alt="image-20220317161741555" style="zoom:200%;" />

<h4 id="主键"><a href="#主键" class="headerlink" title="主键"></a>主键</h4><img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220317163238433.png" alt="image-20220317163238433" style="zoom:200%;" />

<img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220317163304180.png" alt="image-20220317163304180" style="zoom:200%;" />

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> t17</span><br><span class="line">	(id <span class="type">int</span> <span class="keyword">primary</span> key, #表示id列是主键</span><br><span class="line">	`name` <span class="type">varchar</span>(<span class="number">32</span>),</span><br><span class="line">	email <span class="type">varchar</span>(<span class="number">32</span>));</span><br><span class="line"></span><br><span class="line">#主键列的值是不可以重复的</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> t17</span><br><span class="line">	<span class="keyword">values</span>(<span class="number">1</span>,<span class="string">&#x27;jack&#x27;</span>,<span class="string">&#x27;jack@sohu.com&#x27;</span>)</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> t17</span><br><span class="line">	<span class="keyword">values</span>(<span class="number">2</span>,<span class="string">&#x27;tom&#x27;</span>,<span class="string">&#x27;tom@sohu.com&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> t17</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">#主键使用细节讨论</span><br><span class="line">#<span class="number">1.</span>主键不能重复而且不能为<span class="keyword">null</span></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> t17</span><br><span class="line">	<span class="keyword">values</span>(<span class="keyword">null</span>,<span class="string">&#x27;jack&#x27;</span>,<span class="string">&#x27;jack@sohu.com&#x27;</span>)</span><br><span class="line">	</span><br><span class="line">#<span class="number">2.</span>一张表最多只能有一个主键，但可以是复合主键</span><br><span class="line">#演示复合主键</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> t18</span><br><span class="line">	(id <span class="type">INT</span> , </span><br><span class="line">	`name` <span class="type">VARCHAR</span>(<span class="number">32</span>),</span><br><span class="line">	email <span class="type">VARCHAR</span>(<span class="number">32</span>),</span><br><span class="line">	<span class="keyword">PRIMARY</span> KEY(id,`name`));	#复合主键</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> t18</span><br><span class="line">	<span class="keyword">VALUES</span>(<span class="number">1</span>,<span class="string">&#x27;jack&#x27;</span>,<span class="string">&#x27;jack@sohu.com&#x27;</span>)</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> t18</span><br><span class="line">	<span class="keyword">VALUES</span>(<span class="number">1</span>,<span class="string">&#x27;tom&#x27;</span>,<span class="string">&#x27;tom@sohu.com&#x27;</span>) #添加成功</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> t18</span><br><span class="line">	<span class="keyword">VALUES</span>(<span class="number">1</span>,<span class="string">&#x27;jack&#x27;</span>,<span class="string">&#x27;tom@sohu.com&#x27;</span>) #添加失败</span><br><span class="line">#<span class="number">3.</span>主键的指定方式 有两种</span><br><span class="line">#   <span class="number">1.</span>直接在字段名后指定： 字段名 primakry key</span><br><span class="line">#   <span class="number">2.</span>在表定义最后写 <span class="keyword">primary</span> key（列名）</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> t19</span><br><span class="line">	(id <span class="type">INT</span> , </span><br><span class="line">	`name` <span class="type">VARCHAR</span>(<span class="number">32</span>),</span><br><span class="line">	email <span class="type">VARCHAR</span>(<span class="number">32</span>),</span><br><span class="line">	<span class="keyword">PRIMARY</span> KEY(id));</span><br><span class="line">#<span class="number">4.</span>使用<span class="keyword">desc</span> 表名，可以看到 <span class="keyword">primary</span> key的情况</span><br><span class="line"><span class="keyword">desc</span> t18</span><br></pre></td></tr></table></figure>

<h4 id="UNIQUE"><a href="#UNIQUE" class="headerlink" title="UNIQUE"></a>UNIQUE</h4><img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220317181339323.png" alt="image-20220317181339323" style="zoom:200%;" />

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">#<span class="keyword">unique</span>的使用</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> t21</span><br><span class="line">	(id <span class="type">INT</span> <span class="keyword">UNIQUE</span>, #表示 id 列是不可以重复的</span><br><span class="line">	`name`<span class="type">VARCHAR</span>(<span class="number">32</span>),</span><br><span class="line">	email <span class="type">VARCHAR</span>(<span class="number">32</span>)</span><br><span class="line">	);</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> t21</span><br><span class="line">	<span class="keyword">VALUES</span>(<span class="number">1</span>,<span class="string">&#x27;jack&#x27;</span>,<span class="string">&#x27;jack@sohu.com&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> t21</span><br><span class="line">	<span class="keyword">VALUES</span>(<span class="number">1</span>,<span class="string">&#x27;tom&#x27;</span>,<span class="string">&#x27;tom@sohu.com&#x27;</span>)</span><br><span class="line">	</span><br><span class="line">#<span class="keyword">unique</span>使用细节</span><br><span class="line">#<span class="number">1.</span>如果没有指定 <span class="keyword">not</span> <span class="keyword">null</span>,则 <span class="keyword">unique</span> 字段可以有多个<span class="keyword">null</span></span><br><span class="line">#如果一个列（字段），则 <span class="keyword">unique</span> <span class="keyword">not</span> <span class="keyword">null</span> 使用效果类似 <span class="keyword">primary</span> key</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> t21</span><br><span class="line">	<span class="keyword">VALUES</span>(<span class="keyword">NULL</span>,<span class="string">&#x27;tom&#x27;</span>,<span class="string">&#x27;tom@sohu.com&#x27;</span>)</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> t21</span><br><span class="line"></span><br><span class="line">#<span class="number">2.</span>一张表可以有多个<span class="keyword">unique</span>字段</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> t22</span><br><span class="line">	(id <span class="type">INT</span> <span class="keyword">UNIQUE</span>, #表示 id 列是不可以重复的</span><br><span class="line">	`name`<span class="type">VARCHAR</span>(<span class="number">32</span>)<span class="keyword">UNIQUE</span>,#表示 name 列是不可以重复的</span><br><span class="line">	email <span class="type">VARCHAR</span>(<span class="number">32</span>)</span><br><span class="line">	);</span><br><span class="line"><span class="keyword">DESC</span> t22</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="外键"><a href="#外键" class="headerlink" title="外键"></a>外键</h4><img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220317182917624.png" alt="image-20220317182917624" style="zoom:200%;" />

<img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220317190504408.png" alt="image-20220317190504408" style="zoom:200%;" />

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">#外键约束</span><br><span class="line"></span><br><span class="line">#创建 主表 my_class</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> my_class(</span><br><span class="line">	id <span class="type">INT</span> <span class="keyword">PRIMARY</span> KEY, #班级编号</span><br><span class="line">	`name` <span class="type">VARCHAR</span>(<span class="number">32</span>)<span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="string">&#x27;&#x27;</span>)</span><br><span class="line"></span><br><span class="line">#创建 主表 my_stu</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> my_stu(</span><br><span class="line">	id <span class="type">INT</span> <span class="keyword">PRIMARY</span> KEY, #班级编号</span><br><span class="line">	`name` <span class="type">VARCHAR</span>(<span class="number">32</span>)<span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">	class_id <span class="type">INT</span>,#学生所在班级的编号</span><br><span class="line">	#下面指定的外键关系</span><br><span class="line">	<span class="keyword">FOREIGN</span> KEY (class_id) <span class="keyword">REFERENCES</span> my_class(id))</span><br><span class="line">#测试数据</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> my_class</span><br><span class="line">	<span class="keyword">VALUES</span>(<span class="number">100</span>,<span class="string">&#x27;java&#x27;</span>),(<span class="number">200</span>,<span class="string">&#x27;web&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> my_class</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> my_stu</span><br><span class="line">	<span class="keyword">VALUES</span>(<span class="number">1</span>,<span class="string">&#x27;tom&#x27;</span>,<span class="number">100</span>)</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> my_stu</span><br><span class="line">	<span class="keyword">VALUES</span>(<span class="number">2</span>,<span class="string">&#x27;jack&#x27;</span>,<span class="number">200</span>)</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> my_stu</span><br><span class="line">	<span class="keyword">VALUES</span>(<span class="number">3</span>,<span class="string">&#x27;hsp&#x27;</span>,<span class="number">300</span>);#这里会失败，因为<span class="number">300</span>班级不存在</span><br><span class="line">	</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> my_stu</span><br></pre></td></tr></table></figure>

<img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220317194025131.png" alt="image-20220317194025131" style="zoom:200%;" />

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#一旦建立了外键关系，数据就不能随意删除了</span><br><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> my_class</span><br><span class="line">		<span class="keyword">WHERE</span> id <span class="operator">=</span> <span class="number">100</span>;</span><br></pre></td></tr></table></figure>

<h4 id="check"><a href="#check" class="headerlink" title="check"></a>check</h4><img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220318155209545.png" alt="image-20220318155209545" style="zoom:200%;" />

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">#演示<span class="keyword">check</span>使用</span><br><span class="line">#mysql5<span class="number">.7</span>目前还不支持<span class="keyword">check</span>，只做语法校验，但不会生效</span><br><span class="line"></span><br><span class="line">#测试</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> t23 (</span><br><span class="line">	id <span class="type">int</span> <span class="keyword">primary</span> key,</span><br><span class="line">	`name` <span class="type">varchar</span>(<span class="number">32</span>),</span><br><span class="line">	sex <span class="type">varchar</span>(<span class="number">6</span>) <span class="keyword">check</span> (sex <span class="keyword">in</span>(<span class="string">&#x27;man&#x27;</span>,<span class="string">&#x27;woman&#x27;</span>)),</span><br><span class="line">	sal <span class="keyword">double</span> <span class="keyword">check</span> ( sal <span class="operator">&gt;</span> <span class="number">1000</span> <span class="keyword">and</span> sal <span class="operator">&lt;</span> <span class="number">2000</span>)</span><br><span class="line">	)</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> t23</span><br><span class="line">	<span class="keyword">values</span>(<span class="number">1</span>,<span class="string">&#x27;jack&#x27;</span>,<span class="string">&#x27;mid&#x27;</span>,<span class="number">1</span>)</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> t23</span><br></pre></td></tr></table></figure>

<h4 id="练习：设计商店表"><a href="#练习：设计商店表" class="headerlink" title="练习：设计商店表"></a>练习：设计商店表</h4><img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220318163736702.png" alt="image-20220318163736702" style="zoom:200%;" />

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">#商店表设计</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> goods(</span><br><span class="line">	goods_id <span class="type">INT</span> <span class="keyword">PRIMARY</span> KEY,</span><br><span class="line">	goods_name <span class="type">VARCHAR</span>(<span class="number">32</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">	unitprice <span class="type">DECIMAL</span>(<span class="number">10</span>,<span class="number">2</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="number">0</span></span><br><span class="line">	<span class="keyword">CHECK</span> (unitprice <span class="operator">&gt;=</span> <span class="number">1.0</span> <span class="keyword">AND</span> unitprice <span class="operator">&lt;=</span> <span class="number">9999.99</span>),</span><br><span class="line">	category <span class="type">INT</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="number">0</span>,</span><br><span class="line">	provider <span class="type">VARCHAR</span>(<span class="number">32</span>)<span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="string">&#x27;&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> customer(</span><br><span class="line">	customer_id <span class="type">INT</span> <span class="keyword">PRIMARY</span> KEY <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">	`name` <span class="type">VARCHAR</span>(<span class="number">32</span>)<span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">	address <span class="type">VARCHAR</span>(<span class="number">32</span>)<span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">	email  <span class="type">VARCHAR</span>(<span class="number">32</span>)<span class="keyword">UNIQUE</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">	sex ENUM(<span class="string">&#x27;man&#x27;</span>,<span class="string">&#x27;woman&#x27;</span>)<span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">	card_id <span class="type">INT</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> purchase(</span><br><span class="line">	order_id <span class="type">INT</span> <span class="keyword">PRIMARY</span> KEY,</span><br><span class="line">	customer_id <span class="type">INT</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">	goods_id <span class="type">INT</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="number">0</span>,</span><br><span class="line">	num <span class="type">INT</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="number">0</span>,</span><br><span class="line">	<span class="keyword">FOREIGN</span> KEY (customer_id) <span class="keyword">REFERENCES</span> customer(customer_id),</span><br><span class="line">	<span class="keyword">FOREIGN</span> KEY (goods_id) <span class="keyword">REFERENCES</span> goods(goods_id))</span><br></pre></td></tr></table></figure>

<h3 id="自增长"><a href="#自增长" class="headerlink" title="自增长"></a>自增长</h3><img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220318163820254.png" alt="image-20220318163820254" style="zoom:200%;" />

<p><img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220319114728455.png" alt="image-20220319114728455"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">#自增长使用</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> t24</span><br><span class="line">	(id <span class="type">INT</span> <span class="keyword">PRIMARY</span> KEY AUTO_INCREMENT,</span><br><span class="line">	email <span class="type">VARCHAR</span>(<span class="number">32</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">	`name` <span class="type">VARCHAR</span>(<span class="number">32</span>)<span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="string">&#x27;&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">DESC</span> t24</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> t24</span><br><span class="line">	<span class="keyword">VALUES</span>(<span class="keyword">NULL</span>,<span class="string">&#x27;jack@qq.com&#x27;</span>,<span class="string">&#x27;tom&#x27;</span>)</span><br><span class="line">	</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> t24</span><br><span class="line">	(email,`name`) <span class="keyword">VALUES</span>(<span class="string">&#x27;jack@qq.com&#x27;</span>,<span class="string">&#x27;tom&#x27;</span>)</span><br><span class="line">	</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> t24;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#修改默认的自增长开始值</span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> t25 AUTO_INCREMENT <span class="operator">=</span> <span class="number">100</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> t25</span><br><span class="line">    (id <span class="type">INT</span> <span class="keyword">PRIMARY</span> KEY AUTO_INCREMENT,</span><br><span class="line">    email <span class="type">VARCHAR</span>(<span class="number">32</span>)<span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span><span class="string">&#x27;&#x27;</span>,</span><br><span class="line">    `name`<span class="type">VARCHAR</span>(<span class="number">32</span>)<span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span><span class="string">&#x27;&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> t25</span><br><span class="line">	<span class="keyword">VALUES</span>(<span class="keyword">NULL</span>,<span class="string">&#x27;mary@qq.com&#x27;</span>,<span class="string">&#x27;mary&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> t25</span><br></pre></td></tr></table></figure>

<h3 id="索引"><a href="#索引" class="headerlink" title="索引"></a>索引</h3><img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220319115403395.png" alt="image-20220319115403395" style="zoom:200%;" />

<img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220319142515991.png" alt="image-20220319142515991" style="zoom:200%;" />

<img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220319143752969.png" alt="image-20220319143752969" style="zoom:200%;" />

<p>索引的加入可以大大增加查询的效率，但是会降低增删改的效率，但是由于日常业务中查询操作远远大于其他三种，因此利大于弊</p>
<img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220319143949491.png" alt="image-20220319143949491" style="zoom:200%;" />

<img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220319144352135.png" alt="image-20220319144352135" style="zoom:200%;" />

<img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220319144512921.png" alt="image-20220319144512921" style="zoom:200%;" />

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">#演示mysql的索引的使用</span><br><span class="line">#创建索引</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> t25 (</span><br><span class="line">	id <span class="type">int</span>,</span><br><span class="line">	`name` <span class="type">varchar</span>(<span class="number">32</span>));</span><br><span class="line"></span><br><span class="line">#查询表中是否有索引</span><br><span class="line"><span class="keyword">show</span> indexes <span class="keyword">from</span> t25</span><br><span class="line"></span><br><span class="line">#添加索引</span><br><span class="line">#添加唯一索引</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">unique</span> index id_index <span class="keyword">on</span> t25 (id)</span><br><span class="line"></span><br><span class="line">#添加普通索引方式一</span><br><span class="line"><span class="keyword">CREATE</span> INDEX id_index <span class="keyword">ON</span> t25 (id)</span><br><span class="line">#添加普通索引方式二</span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> t25 <span class="keyword">add</span> index id_index(id)</span><br><span class="line"></span><br><span class="line">#如何选择</span><br><span class="line">#如果某列的值，是不会重复的，则优先考虑使用<span class="keyword">unique</span>索引，否则使用普通索引</span><br><span class="line"></span><br><span class="line">#添加主键索引</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> t26 (</span><br><span class="line">	id <span class="type">int</span>,</span><br><span class="line">	`name` <span class="type">varchar</span>(<span class="number">32</span>));</span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> t26 <span class="keyword">add</span> <span class="keyword">primary</span> key (id)</span><br><span class="line"></span><br><span class="line"><span class="keyword">show</span> index <span class="keyword">from</span> t26</span><br><span class="line"></span><br><span class="line">#删除主键索引</span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> t26 <span class="keyword">drop</span> <span class="keyword">primary</span> key</span><br><span class="line"></span><br><span class="line">#修改索引，先删除，再添加新的索引</span><br><span class="line"></span><br><span class="line">#查询索引,四种方法，推荐前三种#</span><br><span class="line"><span class="keyword">show</span> index <span class="keyword">from</span> t25</span><br><span class="line"><span class="keyword">SHOW</span> INDEXeS <span class="keyword">FROM</span> t25</span><br><span class="line"><span class="keyword">show</span> keys <span class="keyword">from</span> t25</span><br><span class="line"><span class="keyword">desc</span> t25</span><br><span class="line"></span><br><span class="line"><span class="keyword">SHOW</span> INDEX <span class="keyword">FROM</span> t26</span><br></pre></td></tr></table></figure>

<img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220319201909329.png" alt="image-20220319201909329" style="zoom:200%;" />

<img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220319201947705.png" alt="image-20220319201947705" style="zoom:200%;" />

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line">#练习一</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `order1`(</span><br><span class="line">	id <span class="type">INT</span> <span class="keyword">PRIMARY</span> KEY,</span><br><span class="line">	goods_name <span class="type">CHAR</span>(<span class="number">10</span>),</span><br><span class="line">	orderman <span class="type">VARCHAR</span>(<span class="number">5</span>),</span><br><span class="line">	num <span class="type">INT</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `order2`(</span><br><span class="line">	id <span class="type">INT</span>,</span><br><span class="line">	goods_name <span class="type">CHAR</span>(<span class="number">10</span>),</span><br><span class="line">	orderman <span class="type">VARCHAR</span>(<span class="number">5</span>),</span><br><span class="line">	num <span class="type">INT</span>)</span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> `order2` <span class="keyword">ADD</span> <span class="keyword">PRIMARY</span> KEY (id)</span><br><span class="line"></span><br><span class="line"><span class="keyword">SHOW</span> INDEX <span class="keyword">FROM</span> `order1`</span><br><span class="line"><span class="keyword">SHOW</span> INDEX <span class="keyword">FROM</span> `order2`</span><br><span class="line"></span><br><span class="line">#练习二</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `menu1`(</span><br><span class="line">	id <span class="type">INT</span> <span class="keyword">PRIMARY</span> KEY,</span><br><span class="line">	dishes_name <span class="type">CHAR</span>(<span class="number">10</span>),</span><br><span class="line">	cooker <span class="type">VARCHAR</span>(<span class="number">5</span>),</span><br><span class="line">	orderer <span class="type">INT</span> <span class="keyword">UNIQUE</span> ,</span><br><span class="line">	price <span class="keyword">DOUBLE</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `menu2`(</span><br><span class="line">	id <span class="type">INT</span> <span class="keyword">PRIMARY</span> KEY,</span><br><span class="line">	dishes_name <span class="type">CHAR</span>(<span class="number">10</span>),</span><br><span class="line">	cooker <span class="type">VARCHAR</span>(<span class="number">5</span>),</span><br><span class="line">	orderer <span class="type">INT</span> ,</span><br><span class="line">	price <span class="keyword">DOUBLE</span>)</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">UNIQUE</span> INDEX orderer_index <span class="keyword">ON</span> `menu2`(orderer)</span><br><span class="line"></span><br><span class="line"><span class="keyword">DESC</span> `menu1`</span><br><span class="line"><span class="keyword">DESC</span> `menu2`</span><br><span class="line"></span><br><span class="line">#练习三</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> sportman1(</span><br><span class="line">	id <span class="type">INT</span> <span class="keyword">PRIMARY</span> KEY,</span><br><span class="line">	`name` <span class="type">CHAR</span>(<span class="number">10</span>),</span><br><span class="line">	special <span class="type">VARCHAR</span>(<span class="number">5</span>)</span><br><span class="line">	)</span><br><span class="line"><span class="keyword">CREATE</span> INDEX id_index <span class="keyword">ON</span> sportman1(id)</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> sportman2(</span><br><span class="line">	id <span class="type">INT</span> <span class="keyword">PRIMARY</span> KEY,</span><br><span class="line">	`name` <span class="type">CHAR</span>(<span class="number">10</span>),</span><br><span class="line">	special <span class="type">VARCHAR</span>(<span class="number">5</span>)</span><br><span class="line">	)</span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> sportman2 <span class="keyword">ADD</span> INDEX id_index(id)</span><br><span class="line"></span><br><span class="line"><span class="keyword">DESC</span> `sportman1`</span><br><span class="line"><span class="keyword">DESC</span> `sportman2`</span><br></pre></td></tr></table></figure>

<h4 id="创建索引规则"><a href="#创建索引规则" class="headerlink" title="创建索引规则"></a>创建索引规则</h4><img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220319203457829.png" alt="image-20220319203457829" style="zoom:200%;" />

<h3 id="事务"><a href="#事务" class="headerlink" title="事务"></a>事务</h3><img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220319203935833.png" alt="image-20220319203935833" style="zoom:200%;" />

<img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220319205145119.png" alt="image-20220319205145119" style="zoom:200%;" />

<img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220319205605702.png" alt="image-20220319205605702" style="zoom:200%;" />

<img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220319211038829.png" alt="image-20220319211038829" style="zoom:200%;" />

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">#事务的具体操作</span><br><span class="line">#<span class="number">1.</span>创建一张测试表</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> t27</span><br><span class="line">	(id <span class="type">INT</span>,</span><br><span class="line">	`name` <span class="type">VARCHAR</span>(<span class="number">32</span>))</span><br><span class="line">#<span class="number">2.</span>开始事务</span><br><span class="line"><span class="keyword">START</span> TRANSACTION</span><br><span class="line">#<span class="number">3.</span>设置保存点</span><br><span class="line"><span class="keyword">SAVEPOINT</span> a</span><br><span class="line"></span><br><span class="line">#执行dml操作</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> t27 <span class="keyword">VALUES</span>(<span class="number">100</span>,<span class="string">&#x27;tom&#x27;</span>)</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> t27</span><br><span class="line"><span class="keyword">SAVEPOINT</span> b</span><br><span class="line"></span><br><span class="line">#执行dml操作</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> t27 <span class="keyword">VALUES</span>(<span class="number">200</span>,<span class="string">&#x27;jack&#x27;</span>)</span><br><span class="line"></span><br><span class="line">#回退到b</span><br><span class="line"><span class="keyword">ROLLBACK</span> <span class="keyword">TO</span> b</span><br><span class="line">#回退到b</span><br><span class="line"><span class="keyword">ROLLBACK</span> <span class="keyword">TO</span> a</span><br><span class="line">#如果这样，表示直接直接回退到事务开始的状态</span><br><span class="line"><span class="keyword">ROLLBACK</span></span><br></pre></td></tr></table></figure>



<h4 id="事务注意事项"><a href="#事务注意事项" class="headerlink" title="事务注意事项"></a>事务注意事项</h4><img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220319211214222.png" alt="image-20220319211214222" style="zoom:200%;" />

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">#讨论 事务细节</span><br><span class="line">#<span class="number">1.</span>如果不开始事务，默认情况下，dml操作是自动提交的，不能回滚</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> t27 <span class="keyword">values</span>(<span class="number">300</span>,<span class="string">&#x27;milan&#x27;</span>)#自动提交<span class="keyword">commit</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> t27</span><br><span class="line"></span><br><span class="line"><span class="keyword">start</span> transaction </span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> t27 <span class="keyword">values</span>(<span class="number">400</span>,<span class="string">&#x27;king&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> t27 <span class="keyword">VALUES</span>(<span class="number">500</span>,<span class="string">&#x27;scott&#x27;</span>);</span><br><span class="line"><span class="keyword">rollback</span> #表示直接回退到事务开始的状态</span><br><span class="line"><span class="keyword">commit</span></span><br><span class="line"></span><br><span class="line">#<span class="number">2.</span>你也可以在这个事务中（还没有提交时），创建多个保存点，比如：<span class="keyword">savepoint</span></span><br><span class="line">#执行 dml，<span class="keyword">savepoint</span> bbb</span><br><span class="line">#<span class="number">3.</span>InnoDB 存储引擎支持事务，MyISAM 不支持</span><br><span class="line">#<span class="number">4.</span>开始一种事务有两种方式：</span><br><span class="line">#<span class="keyword">start</span> transaction， <span class="keyword">set</span> autocommit <span class="operator">=</span> off</span><br></pre></td></tr></table></figure>

<h4 id="事务隔离级别"><a href="#事务隔离级别" class="headerlink" title="事务隔离级别"></a>事务隔离级别</h4><img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220319213535076.png" alt="image-20220319213535076" style="zoom:200%;" />

<img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220319213923117.png" alt="image-20220319213923117" style="zoom:200%;" />

<img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220319214109664.png" alt="image-20220319214109664" style="zoom:200%;" />

<img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220319214209626.png" alt="image-20220319214209626" style="zoom:200%;" />

<p>脏读</p>
<p><img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220319222831819.png" alt="image-20220319222831819"></p>
<p>加锁：当有一个控制台在操作数据库中的数据而未提交时，另一控制台所执行的控制指令会卡住暂停，等待数据库提交后才能继续执行</p>
<h4 id="事务隔离级别-1"><a href="#事务隔离级别-1" class="headerlink" title="事务隔离级别"></a>事务隔离级别</h4><p><img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220320105326520.png" alt="image-20220320105326520"></p>
<p><img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220320105347752.png" alt="image-20220320105347752"></p>
<p><img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220320105740170.png" alt="image-20220320105740170"></p>
<h3 id="存储引擎"><a href="#存储引擎" class="headerlink" title="存储引擎"></a>存储引擎</h3><p><img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220320105953844.png" alt="image-20220320105953844"></p>
<img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220320110751393.png" alt="image-20220320110751393" style="zoom:200%;" />

<p><img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220320111304006.png" alt="image-20220320111304006"></p>
<img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220320112736068.png" alt="image-20220320112736068" style="zoom:200%;" />

<img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220320113236425.png" alt="image-20220320113236425" style="zoom:200%;" />

<img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220320113142184.png" alt="image-20220320113142184" style="zoom:200%;" />

<h3 id="视图"><a href="#视图" class="headerlink" title="视图"></a>视图</h3><img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220320113522461.png" alt="image-20220320113522461" style="zoom:200%;" />

<img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220320114601154.png" alt="image-20220320114601154" style="zoom:200%;" />

<img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220320115203045.png" alt="image-20220320115203045" style="zoom:200%;" />

<h4 id="视图基本使用"><a href="#视图基本使用" class="headerlink" title="视图基本使用"></a>视图基本使用</h4><img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220320115338364.png" alt="image-20220320115338364" style="zoom:200%;" />

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">#视图的使用</span><br><span class="line">#创建视图</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">VIEW</span> emp_view01</span><br><span class="line">	<span class="keyword">AS</span></span><br><span class="line">	<span class="keyword">SELECT</span> empno,ename,job,deptno <span class="keyword">FROM</span> emp</span><br><span class="line"></span><br><span class="line">#查看视图</span><br><span class="line"><span class="keyword">DESC</span> emp_view01</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> emp_view01</span><br><span class="line"></span><br><span class="line">#查看创建视图的指令</span><br><span class="line"><span class="keyword">SHOW</span> <span class="keyword">CREATE</span> <span class="keyword">VIEW</span> emp_view01</span><br><span class="line"></span><br><span class="line">#删除视图</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">VIEW</span> emp_view01;</span><br></pre></td></tr></table></figure>

<img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220320120637960.png" alt="image-20220320120637960" style="zoom:200%;" />

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">#视图的使用</span><br><span class="line">#创建视图</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">VIEW</span> emp_view01</span><br><span class="line">	<span class="keyword">AS</span></span><br><span class="line">	<span class="keyword">SELECT</span> empno,ename,job,deptno <span class="keyword">FROM</span> emp</span><br><span class="line"></span><br><span class="line">#查看视图</span><br><span class="line"><span class="keyword">DESC</span> emp_view01</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> emp_view01</span><br><span class="line"></span><br><span class="line">#查看创建视图的指令</span><br><span class="line"><span class="keyword">SHOW</span> <span class="keyword">CREATE</span> <span class="keyword">VIEW</span> emp_view01</span><br><span class="line"></span><br><span class="line">#删除视图</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">VIEW</span> emp_view01;</span><br><span class="line"></span><br><span class="line">#视图细节</span><br><span class="line">#<span class="number">1.</span>创建视图后，到数据库去看，对应视图只有一个视图结构文件（形式：视图名.frm）</span><br><span class="line">#<span class="number">2.</span>视图的数据变化会影响到基表，基表的数据变化也会影响到视图[<span class="keyword">insert</span> <span class="keyword">update</span> <span class="keyword">delete</span>]</span><br><span class="line">#修改视图</span><br><span class="line"></span><br><span class="line"><span class="keyword">UPDATE</span> emp_view01</span><br><span class="line">	<span class="keyword">SET</span> job <span class="operator">=</span> <span class="string">&#x27;MANAGER&#x27;</span></span><br><span class="line">	<span class="keyword">WHERE</span> empno  <span class="operator">=</span> <span class="number">7369</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> emp #查询基表</span><br><span class="line"></span><br><span class="line">#修改基表，会影响到视图</span><br><span class="line"><span class="keyword">UPDATE</span> emp</span><br><span class="line">	<span class="keyword">SET</span> job <span class="operator">=</span> <span class="string">&#x27;SALEMAN&#x27;</span></span><br><span class="line">	<span class="keyword">WHERE</span> empno  <span class="operator">=</span> <span class="number">7369</span></span><br><span class="line">	</span><br><span class="line">#<span class="number">3.</span>视图中可以再使用视图，比如从emp_view01视图中，选出empno，和ename做出新的视图</span><br><span class="line"><span class="keyword">DESC</span> emp_view01</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">VIEW</span> empview02</span><br><span class="line">	<span class="keyword">AS</span></span><br><span class="line">	<span class="keyword">SELECT</span> empno,ename <span class="keyword">FROM</span> emp_view01</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> empview02</span><br></pre></td></tr></table></figure>

<h4 id="视图最佳实践"><a href="#视图最佳实践" class="headerlink" title="视图最佳实践"></a>视图最佳实践</h4><img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220320121947546.png" alt="image-20220320121947546" style="zoom:200%;" />

<img src="C:\Users\Nico\AppData\Roaming\Typora\typora-user-images\image-20220320122352213.png" alt="image-20220320122352213" style="zoom:200%;" />

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">#视图课堂练习</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> salgrade</span><br><span class="line"><span class="keyword">DESC</span> emp</span><br><span class="line"><span class="keyword">DESC</span> dept</span><br><span class="line"><span class="keyword">DESC</span> salgrade</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">VIEW</span> emp_view03</span><br><span class="line">	<span class="keyword">AS</span></span><br><span class="line">	<span class="keyword">SELECT</span> empno,ename,dname,grade</span><br><span class="line">	<span class="keyword">FROM</span> emp,dept,salgrade</span><br><span class="line">	<span class="keyword">WHERE</span> emp.deptno <span class="operator">=</span> dept.deptno</span><br><span class="line">	<span class="keyword">AND</span> sal <span class="operator">&gt;=</span> losal <span class="keyword">AND</span> sal <span class="operator">&lt;=</span> hisal</span><br><span class="line">	</span><br><span class="line"><span class="keyword">DESC</span> emp_view03</span><br></pre></td></tr></table></figure>

<hr>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2022/03/20/mysql/" data-id="cl0yzs4kc0000c4vahoqgakjn" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
  
    <a href="/2022/03/20/hello-world/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Hello World</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/03/">March 2022</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2022/03/20/mysql/">mysql</a>
          </li>
        
          <li>
            <a href="/2022/03/20/hello-world/">Hello World</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2022 John Doe<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>




  </div>
</body>
</html>